var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,l=(t,s,i)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[s]=i;import{k as o,e as r,y as c,x as u,l as m,j as g,m as p,o as d,c as f,w as b,b as v,n as y,F as h,p as k,t as j,d as L,r as w,z as D,A as O,q as $}from"./app.299cedce.js";import{_ as I}from"./ItemName.659e824e.js";import{_ as A}from"./ItemList.a012caf4.js";import{_ as x}from"./AutoLink.6e12dad1.js";import{u as z,d as C}from"./utils.9c5057b1.js";import"./shared.99084317.js";import"./style.4b5628f1.js";const T={en:{created:"Created",modified:"Modified",issued:"Issued",altLabels:"Alternative Labels",definition:"Definition",info:"Info",labels:"Labels",editorial:"Editorial",scope:"Scope",languages:"Languages",type:"Type"},de:{created:"Erstellung",modified:"Änderung",issued:"Veröffentlicht",altLabels:"Alternative Bezeichnungen",definition:"Definition",info:"Info",labels:"Bezeichnungen",editorial:"Editorial",scope:"Scope",languages:"Sprachen",type:"Art"}},N=o((()=>g.exports.languagePreference.getLanguages().find((e=>T[e]))||"en")),P=e=>T[N.value][e],S=r({name:"ItemDetailsTabs",components:{Tabs:c,Tab:u,AutoLink:x},props:{item:{type:Object,required:!0}},setup(e){const t=o((()=>{if(!e.item)return[];let t=[],s=e.item&&e.item.inScheme&&e.item.inScheme[0]&&e.item.inScheme[0].types||[];for(let i of e.item.type||[])"object"!=typeof i&&(i={uri:i}),i&&!["http://www.w3.org/2004/02/skos/core#Concept","http://www.w3.org/2004/02/skos/core#ConceptScheme"].includes(i.uri)&&(i=s.find((e=>g.exports.compare(e,i)))||i,t.push(i));return t}));return{utils:z,jskos:m,currentLanguage:N,t:P,iterateLanguageMapContent:(e,t)=>Object.keys(e&&e[t]||{}).map((s=>{const i=e[t][s];return(Array.isArray(i)?i:[i]).map((e=>({language:s,label:e})))})).reduce(((e,t)=>e.concat(t)),[]).filter((e=>"-"!=e.language)).sort(((s,i)=>s.language===g.exports.languagePreference.selectLanguage(e[t])&&i.language!==g.exports.languagePreference.selectLanguage(e[t])?-1:i.language===g.exports.languagePreference.selectLanguage(e[t])&&s.language!==g.exports.languagePreference.selectLanguage(e[t])?1:0)),types:t}}}),B={class:"jskos-vue-itemDetails-list"},M={key:0,class:"jskos-vue-text-lightGrey"},_={class:"jskos-vue-itemDetails-list"},q={key:0},E={key:1},F={key:0,class:"jskos-vue-itemDetails-list"},K={class:"jskos-vue-itemDetails-list"},G={key:0,class:"jskos-vue-itemDetails-list"},R={class:"jskos-vue-itemDetails-list"},U={class:"jskos-vue-itemDetails-list"};S.render=function(e,t,s,i,a,n){const l=p("auto-link"),o=p("tab"),r=p("tabs");return d(),f(r,{borders:"bottom",size:"sm",class:"jskos-vue-itemDetails-tabs"},{default:b((()=>[v(o,{title:e.t("info")},{default:b((()=>[y(" Identifier "),v("ul",B,[(d(!0),f(h,null,k([e.item.uri].concat(e.item.identifier).filter((e=>null!=e)),((t,s)=>(d(),f("li",{key:s},[v(l,{href:t},null,8,["href"]),t===e.item.uri?(d(),f("span",M," (URI)")):y("v-if",!0)])))),128))]),v("ul",_,[e.types.length?(d(),f("li",q,[v("b",null,j(e.t("type"))+":",1),L(" "+j(e.types.map((t=>e.jskos.prefLabel(t))).join(", ")),1)])):y("v-if",!0),(d(),f(h,null,k(["created","issued","modified"],(t=>(d(),f(h,null,[e.item[t]?(d(),f("li",{key:t},[v("b",null,j(e.t(t))+":",1),L(" "+j(e.utils.dateToString(e.item[t])),1)])):y("v-if",!0)],64)))),64)),e.item.languages?(d(),f("li",E,[v("b",null,j(e.t("languages"))+":",1),L(" "+j(e.item.languages.join(", ")),1)])):y("v-if",!0),y(" TODO: Publisher ")]),e.jskos.languageMapContent(e.item,"definition")?(d(),f("ul",F,[v("li",null,[v("b",null,j(e.t("definition"))+":",1)]),(d(!0),f(h,null,k(e.iterateLanguageMapContent(e.item,"definition"),(({language:e,label:t},s)=>(d(),f("li",{key:`${e}-${s}`,lang:`${e}`},j(t),9,["lang"])))),128))])):y("v-if",!0)])),_:1},8,["title"]),v(o,{title:e.t("labels")},{default:b((()=>[y(" prefLabel "),v("ul",K,[(d(!0),f(h,null,k(e.iterateLanguageMapContent(e.item,"prefLabel"),(({language:e,label:t},s)=>(d(),f("li",{key:`${e}-${s}`,lang:`${e}`},j(t),9,["lang"])))),128))]),y(" altLabel "),e.jskos.languageMapContent(e.item,"altLabel")?(d(),f("ul",G,[v("li",null,[v("b",null,j(e.t("altLabels"))+":",1)]),(d(!0),f(h,null,k(e.iterateLanguageMapContent(e.item,"altLabel"),(({language:e,label:t},s)=>(d(),f("li",{key:`${e}-${s}`,lang:`${e}`},j(t),9,["lang"])))),128))])):y("v-if",!0)])),_:1},8,["title"]),y(" scopeNote "),e.jskos.languageMapContent(e.item,"scopeNote")?(d(),f(o,{key:0,title:e.t("scope")},{default:b((()=>[v("ul",R,[(d(!0),f(h,null,k(e.iterateLanguageMapContent(e.item,"scopeNote"),(({language:e,label:t},s)=>(d(),f("li",{key:`${e}-${s}`,lang:`${e}`},j(t),9,["lang"])))),128))])])),_:1},8,["title"])):y("v-if",!0),y(" editorialNote "),e.jskos.languageMapContent(e.item,"editorialNote")?(d(),f(o,{key:1,title:e.t("editorial")},{default:b((()=>[v("ul",U,[(d(!0),f(h,null,k(e.iterateLanguageMapContent(e.item,"editorialNote"),(({language:e,label:t},s)=>(d(),f("li",{key:`${e}-${s}`,lang:`${e}`},j(t),9,["lang"])))),128))])])),_:1},8,["title"])):y("v-if",!0),y(" Slot for additional tabs "),w(e.$slots,"additionalTabs")])),_:3})};const V=r({name:"LicenseInfo",components:{AutoLink:x},props:{item:{type:Object,required:!0}},setup:e=>({licenseBadges:{"http://creativecommons.org/publicdomain/zero/1.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/cc-zero.svg","http://creativecommons.org/licenses/by/3.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by.svg","http://creativecommons.org/licenses/by-nc-nd/3.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by-nc-nd.svg","http://creativecommons.org/licenses/by-nc-nd/4.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by-nc-nd.svg","http://creativecommons.org/licenses/by-nc-sa/4.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by-nc-sa.svg","http://creativecommons.org/licenses/by-sa/4.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by-sa.svg","http://opendatacommons.org/licenses/odbl/1.0/":"https://img.shields.io/badge/License-ODbL-lightgrey.svg","http://www.wtfpl.net/":"https://img.shields.io/badge/License-WTFPL-lightgrey.svg"},licenseAttribution:o((()=>{const t=(e.item.publisher||[]).find((e=>e.url));return{url:t.url||e.item.url,label:g.exports.prefLabel(t)||"?"}}))})}),W={class:"jskos-vue-itemDetails-licenseInfo"},Z={key:1};V.render=function(e,t,s,i,a,n){const l=p("auto-link");return d(),f("div",W,[(d(!0),f(h,null,k(e.item.license||[],((t,s)=>(d(),f(l,{key:s,href:t.uri,title:`by ${e.licenseAttribution.label}`,class:"jskos-vue-itemDetails-licenseInfo-badge"},{default:b((()=>[e.licenseBadges[t.uri]?(d(),f("img",{key:0,src:e.licenseBadges[t.uri]},null,8,["src"])):(d(),f("span",Z,j(t.uri),1))])),_:2},1032,["href","title"])))),128))])};const{draggedItem:H,addDropzone:J}=C,Q={en:{showAllAncestors:"show all ancestors",showLessAncestors:"show less ancesters",license:"License",dropzone:"Drop an item here to select it."},de:{showAllAncestors:"zeige alle übergeordneten Konzepte",showLessAncestors:"zeige weniger übergeordnete Konzepte",license:"Lizenz",dropzone:"Ziehe ein Item hierrein, um es auszuwählen."}},X=o((()=>g.exports.languagePreference.getLanguages().find((e=>Q[e]))||"en")),Y=e=>Q[X.value][e],ee=r({name:"ItemDetails",components:{ItemName:I,ItemList:A,LicenseInfo:V,ItemDetailsTabs:S},props:{item:{type:Object,required:!0},itemListOptions:{type:Object,default:()=>({})},showTabs:{type:Boolean,default:!0},showAncestors:{type:Boolean,default:!0},showBroader:{type:Boolean,default:!0},showNarrower:{type:Boolean,default:!0}},emits:["select"],setup(e,{emit:r}){const c=o((()=>!g.exports.compare(e.item,H.value))),u=J(null,(e=>{c.value&&r("select",{item:e})}));return p=((e,t)=>{for(var s in t||(t={}))a.call(t,s)&&l(e,s,t[s]);if(i)for(var s of i(t))n.call(t,s)&&l(e,s,t[s]);return e})({utils:z,jskos:m,currentLanguage:X,t:Y,draggedItem:H},u),t(p,s({isDraggedConceptDifferent:c}));var p}}),te={class:"jskos-vue-itemDetails-name"},se={key:0};ee.render=function(e,t,s,i,a,n){const l=p("item-name"),o=p("license-info"),r=p("item-list"),c=p("item-details-tabs");return d(),f("div",{class:"jskos-vue-itemDetails",onDragover:t[4]||(t[4]=(...t)=>e.dragover&&e.dragover(...t)),onDragenter:t[5]||(t[5]=(...t)=>e.dragenter&&e.dragenter(...t)),onDragleave:t[6]||(t[6]=(...t)=>e.dragleave&&e.dragleave(...t)),onDrop:t[7]||(t[7]=(...t)=>e.drop&&e.drop(...t))},[y(" Define a dropzone which is shown only when a concept is being dragged over the component "),D(v("div",{class:"jskos-vue-itemDetails-dropzone jskos-vue-text-small"},j(e.t("dropzone")),513),[[O,e.isDraggingOver&&e.isDraggedConceptDifferent]]),v("div",te,[w(e.$slots,"beforeName"),v(l,{item:e.item},null,8,["item"]),w(e.$slots,"afterName")]),y(" License "),e.item.license&&e.item.license.length?(d(),f("div",se,[L(j(e.t("license"))+": ",1),v(o,{item:e.item},null,8,["item"])])):y("v-if",!0),y(" Ancestors "),y(" TODO: Only show part of ancestors? "),e.showAncestors?(d(),f(r,$({key:1},e.itemListOptions,{items:e.item.ancestors||[],class:"jskos-vue-itemDetails-ancestors",onSelect:t[1]||(t[1]=t=>e.$emit("select",{item:t.item}))}),null,16,["items"])):y("v-if",!0),y(" Broader "),e.showBroader?(d(),f(r,$({key:2},e.itemListOptions,{items:(e.item.broader||[]).filter((t=>!e.jskos.isContainedIn(t,e.item.ancestors||[]))),class:"jskos-vue-itemDetails-broader",onSelect:t[2]||(t[2]=t=>e.$emit("select",{item:t.item}))}),null,16,["items"])):y("v-if",!0),e.showTabs?(d(),f(c,{key:3,item:e.item},{additionalTabs:b((()=>[w(e.$slots,"additionalTabs")])),_:3},8,["item"])):y("v-if",!0),y(" Narrower "),e.showNarrower?(d(),f(r,$({key:4},e.itemListOptions,{items:e.item.narrower||[],class:"jskos-vue-itemDetails-narrower",onSelect:t[3]||(t[3]=t=>e.$emit("select",{item:t.item}))}),null,16,["items"])):y("v-if",!0)],32)};export{ee as _,S as a,V as b};
