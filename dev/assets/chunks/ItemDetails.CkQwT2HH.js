import{_ as z,d as q,C as F,b as p,o as t,w as v,e as n,r as c,H as L,c as s,j as u,t as o,F as y,B as h,G as B,a as j,h as N,ag as G,ai as H,k,K as S}from"./framework.bu42XqqY.js";import{u as A,f as P,l as I,c as V,i as K,e as R,g as U}from"./utils.yHVIljV5.js";import{I as J}from"./ItemName.D6bS5co0.js";import{I as O}from"./ItemList.x09gRwnW.js";import{j as Q}from"./index.cW5vb7Er.js";import{u as W,b as X}from"./style.CtuZytkF.js";import{_ as Y}from"./AutoLink.DPnKKXld.js";/* empty css               */import{L as Z}from"./LicenseInfo.B-L2l9So.js";const{t:_,currentLanguage:x}=A({en:{created:"Created",modified:"Modified",issued:"Issued",altLabels:"Alternative Labels",definition:"Definition",info:"Info",identifier:"Identifier",labels:"Labels",editorial:"Editorial",scope:"Scope",languages:"Languages",type:"Type",publisher:"Publisher"},de:{created:"Erstellung",modified:"Änderung",issued:"Veröffentlicht",altLabels:"Alternative Bezeichnungen",definition:"Definition",info:"Info",identifier:"Identifier",labels:"Bezeichnungen",editorial:"Editorial",scope:"Scope",languages:"Sprachen",type:"Art",publisher:"Herausgeber"}}),ee=q({name:"ItemDetailsTabs",components:{Tabs:X,Tab:W,AutoLink:Y},props:{item:{type:Object,required:!0},flat:{type:Boolean,default:!1},fields:{type:Object,default:()=>({})}},setup(e){const $=(f,m)=>Object.keys(f&&f[m]||{}).map(a=>{const l=f[m][a];return(Array.isArray(l)?l:[l]).map(i=>({language:a,label:i}))}).reduce((a,l)=>a.concat(l),[]).filter(a=>a.language!="-").sort((a,l)=>a.language===I.selectLanguage(f[m])&&l.language!==I.selectLanguage(f[m])?-1:l.language===I.selectLanguage(f[m])&&a.language!==I.selectLanguage(f[m])?1:0),D=N(()=>{if(!e.item)return[];let f=[],m=e.item&&e.item.inScheme&&e.item.inScheme[0]&&e.item.inScheme[0].types||[];for(let a of e.item.type||[])typeof a!="object"&&(a={uri:a}),!(!a||["http://www.w3.org/2004/02/skos/core#Concept","http://www.w3.org/2004/02/skos/core#ConceptScheme"].includes(a.uri))&&(a=m.find(l=>V(l,a))||a,f.push(a));return f}),w=N(()=>Object.assign({identifier:!0,type:!0,publisher:!K(e.item),created:!0,issued:!0,modified:!0,languages:!0,definition:!0,prefLabel:!0,altLabel:!0,scopeNote:!0,editorialNote:!0},e.fields));return{utils:P,jskos:Q,currentLanguage:x,t:_,iterateLanguageMapContent:$,types:D,fields_:w}}}),te={key:0,class:"jskos-vue-itemDetails-list"},ie={key:0},se={key:0,class:"jskos-vue-text-lightGrey"},le={class:"jskos-vue-itemDetails-list"},ae={key:0},ne={key:1},oe={key:2},re={key:1,class:"jskos-vue-itemDetails-list"},ue=["lang"],de={key:0,class:"jskos-vue-itemDetails-list"},fe={key:0},me=["lang"],ge={key:1,class:"jskos-vue-itemDetails-list"},be=["lang"],ye={class:"jskos-vue-itemDetails-list"},ke={key:0},pe=["lang"],he={class:"jskos-vue-itemDetails-list"},ce={key:0},ve=["lang"];function Le(e,$,D,w,f,m){const a=F("auto-link");return t(),p(L(e.flat?"div":"tabs"),{borders:"bottom",size:"sm",class:"jskos-vue-itemDetails-tabs"},{default:v(()=>[["identifier","type","publisher","created","issued","modified","languages","definition"].filter(l=>e.fields_[l]).length?(t(),p(L(e.flat?"div":"tab"),{key:0,title:e.t("info")},{default:v(()=>{var l;return[e.fields_.identifier?(t(),s("ul",te,[e.flat?(t(),s("li",ie,[u("b",null,o(e.t("identifier"))+":",1)])):n("",!0),(t(!0),s(y,null,h([e.item.uri].concat(e.item.identifier).filter(i=>i!=null),(i,r)=>(t(),s("li",{key:r},[B(a,{href:i},null,8,["href"]),i===e.item.uri?(t(),s("span",se," (URI)")):n("",!0)]))),128))])):n("",!0),u("ul",le,[e.fields_.type&&e.types.length?(t(),s("li",ae,[u("b",null,o(e.t("type"))+":",1),j(" "+o(e.types.map(i=>e.jskos.prefLabel(i)).join(", ")),1)])):n("",!0),e.fields_.publisher&&((l=e.item.publisher)!=null&&l.length)?(t(),s("li",ne,[u("b",null,o(e.t("publisher"))+": ",1),(t(!0),s(y,null,h(e.item.publisher,(i,r)=>(t(),s(y,{key:`publisher-${r}`},[r>0?(t(),s(y,{key:0},[j(" · ")],64)):n("",!0),B(a,{href:i.url||i.uri,text:e.jskos.prefLabel(i)},null,8,["href","text"])],64))),128))])):n("",!0),(t(!0),s(y,null,h(["created","issued","modified"].filter(i=>e.fields_[i]),i=>(t(),s(y,null,[e.item[i]?(t(),s("li",{key:i},[u("b",null,o(e.t(i))+":",1),j(" "+o(e.utils.dateToString(e.item[i])),1)])):n("",!0)],64))),256)),e.fields_.languages&&e.item.languages?(t(),s("li",oe,[u("b",null,o(e.t("languages"))+":",1),j(" "+o(e.item.languages.join(", ")),1)])):n("",!0)]),e.fields_.definition&&e.jskos.languageMapContent(e.item,"definition")?(t(),s("ul",re,[u("li",null,[u("b",null,o(e.t("definition"))+":",1)]),(t(!0),s(y,null,h(e.iterateLanguageMapContent(e.item,"definition"),({language:i,label:r},C)=>(t(),s("li",{key:`${i}-${C}`,lang:`${i}`},o(r),9,ue))),128))])):n("",!0)]}),_:1},8,["title"])):n("",!0),e.fields_.prefLabel||e.fields_.altLabel?(t(),p(L(e.flat?"div":"tab"),{key:1,title:e.t("labels")},{default:v(()=>[e.fields_.prefLabel?(t(),s("ul",de,[e.flat?(t(),s("li",fe,[u("b",null,o(e.t("labels"))+":",1)])):n("",!0),(t(!0),s(y,null,h(e.iterateLanguageMapContent(e.item,"prefLabel"),({language:l,label:i},r)=>(t(),s("li",{key:`${l}-${r}`,lang:`${l}`},o(i),9,me))),128))])):n("",!0),e.fields_.altLabel&&e.jskos.languageMapContent(e.item,"altLabel")?(t(),s("ul",ge,[u("li",null,[u("b",null,o(e.t("altLabels"))+":",1)]),(t(!0),s(y,null,h(e.iterateLanguageMapContent(e.item,"altLabel"),({language:l,label:i},r)=>(t(),s("li",{key:`${l}-${r}`,lang:`${l}`},o(i),9,be))),128))])):n("",!0)]),_:1},8,["title"])):n("",!0),e.fields_.scopeNote&&e.jskos.languageMapContent(e.item,"scopeNote")?(t(),p(L(e.flat?"div":"tab"),{key:2,title:e.t("scope")},{default:v(()=>[u("ul",ye,[e.flat?(t(),s("li",ke,[u("b",null,o(e.t("scope"))+":",1)])):n("",!0),(t(!0),s(y,null,h(e.iterateLanguageMapContent(e.item,"scopeNote"),({language:l,label:i},r)=>(t(),s("li",{key:`${l}-${r}`,lang:`${l}`},o(i),9,pe))),128))])]),_:1},8,["title"])):n("",!0),e.fields_.editorialNote&&e.jskos.languageMapContent(e.item,"editorialNote")?(t(),p(L(e.flat?"div":"tab"),{key:3,title:e.t("editorial")},{default:v(()=>[u("ul",he,[e.flat?(t(),s("li",ce,[u("b",null,o(e.t("editorial"))+":",1)])):n("",!0),(t(!0),s(y,null,h(e.iterateLanguageMapContent(e.item,"editorialNote"),({language:l,label:i},r)=>(t(),s("li",{key:`${l}-${r}`,lang:`${l}`},o(i),9,ve))),128))])]),_:1},8,["title"])):n("",!0),c(e.$slots,"additionalTabs",{},void 0,!0)]),_:3})}const je=z(ee,[["render",Le],["__scopeId","data-v-6bb74f33"]]),$e={class:"jskos-vue-itemDetails-name"},De={key:0},we={__name:"ItemDetails",props:{item:{type:Object,required:!0},itemListOptions:{type:Object,default:()=>({})},showTabs:{type:Boolean,default:!0},showAncestors:{type:Boolean,default:!0},showBroader:{type:Boolean,default:!0},showNarrower:{type:Boolean,default:!0},dropzone:{type:Boolean,default:!0},draggable:{type:Boolean,default:!0},flat:{type:Boolean,default:!1},fields:{type:Object,default:()=>({})}},emits:["select"],setup(e,{emit:$}){const{draggedItem:D,addDropzone:w}=R,{t:f}=A(),m=e,a=$,l=N(()=>!V(m.item,D.value)),{dragover:i,dragenter:r,dragleave:C,drop:M,isDraggingOver:E}=w(null,b=>{m.dropzone&&l.value&&a("select",{item:b})}),T=N(()=>Object.assign({draggable:m.draggable},m.itemListOptions));return(b,g)=>(t(),s("div",{class:"jskos-vue-itemDetails",onDragover:g[3]||(g[3]=(...d)=>k(i)&&k(i)(...d)),onDragenter:g[4]||(g[4]=(...d)=>k(r)&&k(r)(...d)),onDragleave:g[5]||(g[5]=(...d)=>k(C)&&k(C)(...d)),onDrop:g[6]||(g[6]=(...d)=>k(M)&&k(M)(...d))},[G(u("div",{class:"jskos-vue-itemDetails-dropzone jskos-vue-text-small"},o(k(f)("dropzone")),513),[[H,e.dropzone&&k(E)&&l.value]]),u("div",$e,[c(b.$slots,"before",{},void 0,!0),c(b.$slots,"beforeName",{},void 0,!0),B(J,{item:e.item,draggable:e.draggable},null,8,["item","draggable"]),c(b.$slots,"afterName",{},void 0,!0)]),e.fields.license!==!1&&e.item.license&&e.item.license.length?(t(),s("div",De,[j(o(k(f)("license"))+": ",1),B(Z,{item:e.item},null,8,["item"])])):n("",!0),e.showAncestors?(t(),p(O,S({key:1},T.value,{items:(e.item.ancestors||[]).filter(Boolean).reverse(),indent:!0,class:"jskos-vue-itemDetails-ancestors",onSelect:g[0]||(g[0]=d=>b.$emit("select",{item:d.item}))}),null,16,["items"])):n("",!0),e.showBroader?(t(),p(O,S({key:2},T.value,{items:(e.item.broader||[]).filter(d=>!U(d,e.item.ancestors||[])),class:"jskos-vue-itemDetails-broader",onSelect:g[1]||(g[1]=d=>b.$emit("select",{item:d.item}))}),null,16,["items"])):n("",!0),c(b.$slots,"beforeTabs",{},void 0,!0),e.showTabs?(t(),p(je,{key:3,item:e.item,flat:e.flat,fields:e.fields},{additionalTabs:v(()=>[c(b.$slots,"additionalTabs",{},void 0,!0)]),_:3},8,["item","flat","fields"])):n("",!0),c(b.$slots,"afterTabs",{},void 0,!0),e.showNarrower?(t(),p(O,S({key:4},T.value,{items:e.item.narrower||[],class:"jskos-vue-itemDetails-narrower",onSelect:g[2]||(g[2]=d=>b.$emit("select",{item:d.item}))}),null,16,["items"])):n("",!0),c(b.$slots,"after",{},void 0,!0)],32))}},Ae=z(we,[["__scopeId","data-v-f2ae7c14"]]);export{Ae as I,je as a};
