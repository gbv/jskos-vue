import{_ as q,o as i,b as $,w as L,H as I,k as a,c as s,j as d,t as r,e as n,F as v,B as D,E as C,a as B,r as h,h as z,ah as K,ai as R,K as E}from"./framework.BgyxTWzX.js";import{u as H,p as F,g as U,h as S,l as T,a as P,i as J,j as Q,f as W}from"./utils.DdtXV_wH.js";import{I as X}from"./ItemName.BZxuXQ-A.js";import{I as V}from"./ItemList.DiuJyUII.js";import{u as O,b as Y}from"./style.BgWWBg6q.js";/* empty css               */import{_ as M}from"./AutoLink.cFz9cAsO.js";import{_ as Z}from"./LicenseInfo.mrijWutx.js";const p={key:0,class:"jskos-vue-itemDetails-list"},x={key:0},_={key:0,class:"jskos-vue-text-lightGrey"},ee={class:"jskos-vue-itemDetails-list"},te={key:0},ie={key:1},le={key:2},se={key:1,class:"jskos-vue-itemDetails-list"},ae=["lang"],ne={key:0,class:"jskos-vue-itemDetails-list"},re={key:0},ue=["lang"],oe={key:1,class:"jskos-vue-itemDetails-list"},de=["lang"],fe={class:"jskos-vue-itemDetails-list"},me={key:0},ce=["lang"],ge={class:"jskos-vue-itemDetails-list"},be={key:0},ye=["lang"],ve={__name:"ItemDetailsTabs",props:{item:{type:Object,required:!0},flat:{type:Boolean,default:!1},fields:{type:Object,default:()=>({})}},setup(e){const{t:f}=H({en:{created:"Created",modified:"Modified",issued:"Issued",altLabels:"Alternative Labels",definition:"Definition",info:"Info",identifier:"Identifier",labels:"Labels",editorial:"Editorial",scope:"Scope",languages:"Languages",type:"Type",publisher:"Publisher"},de:{created:"Erstellung",modified:"Änderung",issued:"Veröffentlicht",altLabels:"Alternative Bezeichnungen",definition:"Definition",info:"Info",identifier:"Identifier",labels:"Bezeichnungen",editorial:"Editorial",scope:"Scope",languages:"Sprachen",type:"Art",publisher:"Herausgeber"}}),k=e,j=(m,b)=>Object.keys(m&&m[b]||{}).map(l=>{const t=m[b][l];return(Array.isArray(t)?t:[t]).map(u=>({language:l,label:u}))}).reduce((l,t)=>l.concat(t),[]).filter(l=>l.language!="-").sort((l,t)=>l.language===T.selectLanguage(m[b])&&t.language!==T.selectLanguage(m[b])?-1:t.language===T.selectLanguage(m[b])&&l.language!==T.selectLanguage(m[b])?1:0),w=z(()=>{if(!k.item)return[];let m=[],b=k.item&&k.item.inScheme&&k.item.inScheme[0]&&k.item.inScheme[0].types||[];for(let l of k.item.type||[])typeof l!="object"&&(l={uri:l}),!(!l||["http://www.w3.org/2004/02/skos/core#Concept","http://www.w3.org/2004/02/skos/core#ConceptScheme"].includes(l.uri))&&(l=b.find(t=>P(t,l))||l,m.push(l));return m}),o=z(()=>Object.assign({identifier:!0,type:!0,publisher:!J(k.item),created:!0,issued:!0,modified:!0,languages:!0,definition:!0,prefLabel:!0,altLabel:!0,scopeNote:!0,editorialNote:!0},k.fields));return(m,b)=>(i(),$(I(e.flat?"div":a(Y)),{borders:"bottom",size:"sm",class:"jskos-vue-itemDetails-tabs"},{default:L(()=>[["identifier","type","publisher","created","issued","modified","languages","definition"].filter(l=>o.value[l]).length?(i(),$(I(e.flat?"div":a(O)),{key:0,title:a(f)("info")},{default:L(()=>{var l;return[o.value.identifier?(i(),s("ul",p,[e.flat?(i(),s("li",x,[d("b",null,r(a(f)("identifier"))+":",1)])):n("",!0),(i(!0),s(v,null,D([e.item.uri].concat(e.item.identifier).filter(t=>t!=null),(t,u)=>(i(),s("li",{key:u},[C(M,{href:t},null,8,["href"]),t===e.item.uri?(i(),s("span",_," (URI)")):n("",!0)]))),128))])):n("",!0),d("ul",ee,[o.value.type&&w.value.length?(i(),s("li",te,[d("b",null,r(a(f)("type"))+":",1),B(" "+r(w.value.map(t=>F(t)).join(", ")),1)])):n("",!0),o.value.publisher&&((l=e.item.publisher)!=null&&l.length)?(i(),s("li",ie,[d("b",null,r(a(f)("publisher"))+": ",1),(i(!0),s(v,null,D(e.item.publisher,(t,u)=>(i(),s(v,{key:`publisher-${u}`},[u>0?(i(),s(v,{key:0},[B(" · ")],64)):n("",!0),C(M,{href:t.url||t.uri,text:F(t)},null,8,["href","text"])],64))),128))])):n("",!0),(i(!0),s(v,null,D(["created","issued","modified"].filter(t=>o.value[t]),t=>(i(),s(v,null,[e.item[t]?(i(),s("li",{key:t},[d("b",null,r(a(f)(t))+":",1),B(" "+r(U(e.item[t])),1)])):n("",!0)],64))),256)),o.value.languages&&e.item.languages?(i(),s("li",le,[d("b",null,r(a(f)("languages"))+":",1),B(" "+r(e.item.languages.join(", ")),1)])):n("",!0)]),o.value.definition&&S(e.item,"definition")?(i(),s("ul",se,[d("li",null,[d("b",null,r(a(f)("definition"))+":",1)]),(i(!0),s(v,null,D(j(e.item,"definition"),({language:t,label:u},N)=>(i(),s("li",{key:`${t}-${N}`,lang:`${t}`},r(u),9,ae))),128))])):n("",!0)]}),_:1},8,["title"])):n("",!0),o.value.prefLabel||o.value.altLabel?(i(),$(I(e.flat?"div":a(O)),{key:1,title:a(f)("labels")},{default:L(()=>[o.value.prefLabel?(i(),s("ul",ne,[e.flat?(i(),s("li",re,[d("b",null,r(a(f)("labels"))+":",1)])):n("",!0),(i(!0),s(v,null,D(j(e.item,"prefLabel"),({language:l,label:t},u)=>(i(),s("li",{key:`${l}-${u}`,lang:`${l}`},r(t),9,ue))),128))])):n("",!0),o.value.altLabel&&S(e.item,"altLabel")?(i(),s("ul",oe,[d("li",null,[d("b",null,r(a(f)("altLabels"))+":",1)]),(i(!0),s(v,null,D(j(e.item,"altLabel"),({language:l,label:t},u)=>(i(),s("li",{key:`${l}-${u}`,lang:`${l}`},r(t),9,de))),128))])):n("",!0)]),_:1},8,["title"])):n("",!0),o.value.scopeNote&&S(e.item,"scopeNote")?(i(),$(I(e.flat?"div":a(O)),{key:2,title:a(f)("scope")},{default:L(()=>[d("ul",fe,[e.flat?(i(),s("li",me,[d("b",null,r(a(f)("scope"))+":",1)])):n("",!0),(i(!0),s(v,null,D(j(e.item,"scopeNote"),({language:l,label:t},u)=>(i(),s("li",{key:`${l}-${u}`,lang:`${l}`},r(t),9,ce))),128))])]),_:1},8,["title"])):n("",!0),o.value.editorialNote&&S(e.item,"editorialNote")?(i(),$(I(e.flat?"div":a(O)),{key:3,title:a(f)("editorial")},{default:L(()=>[d("ul",ge,[e.flat?(i(),s("li",be,[d("b",null,r(a(f)("editorial"))+":",1)])):n("",!0),(i(!0),s(v,null,D(j(e.item,"editorialNote"),({language:l,label:t},u)=>(i(),s("li",{key:`${l}-${u}`,lang:`${l}`},r(t),9,ye))),128))])]),_:1},8,["title"])):n("",!0),e.flat?h(m.$slots,"additionalFlat",{key:5},void 0,!0):h(m.$slots,"additionalTabs",{key:4},void 0,!0)]),_:3}))}},ke=q(ve,[["__scopeId","data-v-3e931332"]]),he={class:"jskos-vue-itemDetails-name"},$e={key:0},De={__name:"ItemDetails",props:{item:{type:Object,required:!0},itemListOptions:{type:Object,default:()=>({})},showTabs:{type:Boolean,default:!0},showAncestors:{type:Boolean,default:!0},showBroader:{type:Boolean,default:!0},showNarrower:{type:Boolean,default:!0},dropzone:{type:Boolean,default:!0},draggable:{type:Boolean,default:!0},flat:{type:Boolean,default:!1},fields:{type:Object,default:()=>({})}},emits:["select"],setup(e,{emit:f}){const{draggedItem:k,addDropzone:j}=W,{t:w}=H(),o=e,m=f,b=z(()=>!P(o.item,k.value)),{dragover:l,dragenter:t,dragleave:u,drop:N,isDraggingOver:G}=j(null,y=>{o.dropzone&&b.value&&m("select",{item:y})}),A=z(()=>Object.assign({draggable:o.draggable},o.itemListOptions));return(y,g)=>(i(),s("div",{class:"jskos-vue-itemDetails",onDragover:g[3]||(g[3]=(...c)=>a(l)&&a(l)(...c)),onDragenter:g[4]||(g[4]=(...c)=>a(t)&&a(t)(...c)),onDragleave:g[5]||(g[5]=(...c)=>a(u)&&a(u)(...c)),onDrop:g[6]||(g[6]=(...c)=>a(N)&&a(N)(...c))},[K(d("div",{class:"jskos-vue-itemDetails-dropzone jskos-vue-text-small"},r(a(w)("dropzone")),513),[[R,e.dropzone&&a(G)&&b.value]]),d("div",he,[h(y.$slots,"before",{},void 0,!0),h(y.$slots,"beforeName",{},void 0,!0),C(X,{item:e.item,draggable:e.draggable},null,8,["item","draggable"]),h(y.$slots,"afterName",{},void 0,!0)]),e.fields.license!==!1&&e.item.license&&e.item.license.length?(i(),s("div",$e,[B(r(a(w)("license"))+": ",1),C(Z,{item:e.item},null,8,["item"])])):n("",!0),e.showAncestors?(i(),$(V,E({key:1},A.value,{items:(e.item.ancestors||[]).filter(Boolean).reverse(),indent:!0,class:"jskos-vue-itemDetails-ancestors",onSelect:g[0]||(g[0]=c=>y.$emit("select",{item:c.item}))}),null,16,["items"])):n("",!0),e.showBroader?(i(),$(V,E({key:2},A.value,{items:(e.item.broader||[]).filter(c=>!Q(c,e.item.ancestors||[])),class:"jskos-vue-itemDetails-broader",onSelect:g[1]||(g[1]=c=>y.$emit("select",{item:c.item}))}),null,16,["items"])):n("",!0),h(y.$slots,"beforeTabs",{},void 0,!0),e.showTabs?(i(),$(ke,{key:3,item:e.item,flat:e.flat,fields:e.fields},{additionalTabs:L(()=>[h(y.$slots,"additionalTabs",{},void 0,!0)]),_:3},8,["item","flat","fields"])):n("",!0),h(y.$slots,"afterTabs",{},void 0,!0),e.showNarrower?(i(),$(V,E({key:4},A.value,{items:e.item.narrower||[],class:"jskos-vue-itemDetails-narrower",onSelect:g[2]||(g[2]=c=>y.$emit("select",{item:c.item}))}),null,16,["items"])):n("",!0),h(y.$slots,"after",{},void 0,!0)],32))}},Oe=q(De,[["__scopeId","data-v-f2ae7c14"]]);export{Oe as I,ke as a};
