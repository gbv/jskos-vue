import{j as B,l as $,c as A}from"./jskos-tools.CpjLtWvA.js";import{I as P}from"./ItemName.CIbLrj7s.js";import{I as q}from"./ItemList.cWUfRKyf.js";import{b as F,u as K}from"./style.DttjXGKa.js";import{A as G}from"./AutoLink.DNBaALqq.js";import{u as T,b as H}from"./utils.C_9pBjEX.js";import"./shared.l0sNRNKZ.js";import{_ as S,h as w,d as N,D,o as t,b as k,w as v,J as L,j as l,c as i,t as a,e as r,F as b,E as h,I as C,a as j,r as y,a3 as J,a5 as R,M as I}from"./framework.DOrQYd6A.js";import{L as U}from"./LicenseInfo.DPKbVdVS.js";const M={en:{created:"Created",modified:"Modified",issued:"Issued",altLabels:"Alternative Labels",definition:"Definition",info:"Info",identifier:"Identifier",labels:"Labels",editorial:"Editorial",scope:"Scope",languages:"Languages",type:"Type",publisher:"Publisher"},de:{created:"Erstellung",modified:"Änderung",issued:"Veröffentlicht",altLabels:"Alternative Bezeichnungen",definition:"Definition",info:"Info",identifier:"Identifier",labels:"Bezeichnungen",editorial:"Editorial",scope:"Scope",languages:"Sprachen",type:"Art",publisher:"Herausgeber"}},O=w(()=>$.getLanguages().find(e=>M[e])||"en"),Z=e=>M[O.value][e],Q=N({name:"ItemDetailsTabs",components:{Tabs:F,Tab:K,AutoLink:G},props:{item:{type:Object,required:!0},flat:{type:Boolean,default:!1}},setup(e){const o=(f,p)=>Object.keys(f&&f[p]||{}).map(n=>{const g=f[p][n];return(Array.isArray(g)?g:[g]).map(u=>({language:n,label:u}))}).reduce((n,g)=>n.concat(g),[]).filter(n=>n.language!="-").sort((n,g)=>n.language===$.selectLanguage(f[p])&&g.language!==$.selectLanguage(f[p])?-1:g.language===$.selectLanguage(f[p])&&n.language!==$.selectLanguage(f[p])?1:0),c=w(()=>{if(!e.item)return[];let f=[],p=e.item&&e.item.inScheme&&e.item.inScheme[0]&&e.item.inScheme[0].types||[];for(let n of e.item.type||[])typeof n!="object"&&(n={uri:n}),!(!n||["http://www.w3.org/2004/02/skos/core#Concept","http://www.w3.org/2004/02/skos/core#ConceptScheme"].includes(n.uri))&&(n=p.find(g=>A(g,n))||n,f.push(n));return f});return{utils:T,jskos:B,currentLanguage:O,t:Z,iterateLanguageMapContent:o,types:c}}}),W={class:"jskos-vue-itemDetails-list"},X={key:0},Y={key:0,class:"jskos-vue-text-lightGrey"},_={class:"jskos-vue-itemDetails-list"},x={key:0},ee={key:1},te={key:2},se={key:0,class:"jskos-vue-itemDetails-list"},ie=["lang"],ne={class:"jskos-vue-itemDetails-list"},ae={key:0},oe=["lang"],le={key:0,class:"jskos-vue-itemDetails-list"},re=["lang"],ue={class:"jskos-vue-itemDetails-list"},de={key:0},me=["lang"],ge={class:"jskos-vue-itemDetails-list"},fe={key:0},pe=["lang"];function be(e,o,c,f,p,n){const g=D("auto-link");return t(),k(L(e.flat?"div":"tabs"),{borders:"bottom",size:"sm",class:"jskos-vue-itemDetails-tabs"},{default:v(()=>[(t(),k(L(e.flat?"div":"tab"),{title:e.t("info")},{default:v(()=>{var u;return[l("ul",W,[e.flat?(t(),i("li",X,[l("b",null,a(e.t("identifier"))+":",1)])):r("",!0),(t(!0),i(b,null,h([e.item.uri].concat(e.item.identifier).filter(s=>s!=null),(s,m)=>(t(),i("li",{key:m},[C(g,{href:s},null,8,["href"]),s===e.item.uri?(t(),i("span",Y," (URI)")):r("",!0)]))),128))]),l("ul",_,[e.types.length?(t(),i("li",x,[l("b",null,a(e.t("type"))+":",1),j(" "+a(e.types.map(s=>e.jskos.prefLabel(s)).join(", ")),1)])):r("",!0),(u=e.item.publisher)!=null&&u.length?(t(),i("li",ee,[l("b",null,a(e.t("publisher"))+": ",1),(t(!0),i(b,null,h(e.item.publisher,(s,m)=>(t(),i(b,{key:`publisher-${m}`},[m>0?(t(),i(b,{key:0},[j(" · ")],64)):r("",!0),C(g,{href:s.url||s.uri,text:e.jskos.prefLabel(s)},null,8,["href","text"])],64))),128))])):r("",!0),(t(),i(b,null,h(["created","issued","modified"],s=>(t(),i(b,null,[e.item[s]?(t(),i("li",{key:s},[l("b",null,a(e.t(s))+":",1),j(" "+a(e.utils.dateToString(e.item[s])),1)])):r("",!0)],64))),64)),e.item.languages?(t(),i("li",te,[l("b",null,a(e.t("languages"))+":",1),j(" "+a(e.item.languages.join(", ")),1)])):r("",!0)]),e.jskos.languageMapContent(e.item,"definition")?(t(),i("ul",se,[l("li",null,[l("b",null,a(e.t("definition"))+":",1)]),(t(!0),i(b,null,h(e.iterateLanguageMapContent(e.item,"definition"),({language:s,label:m},d)=>(t(),i("li",{key:`${s}-${d}`,lang:`${s}`},a(m),9,ie))),128))])):r("",!0)]}),_:1},8,["title"])),(t(),k(L(e.flat?"div":"tab"),{title:e.t("labels")},{default:v(()=>[l("ul",ne,[e.flat?(t(),i("li",ae,[l("b",null,a(e.t("labels"))+":",1)])):r("",!0),(t(!0),i(b,null,h(e.iterateLanguageMapContent(e.item,"prefLabel"),({language:u,label:s},m)=>(t(),i("li",{key:`${u}-${m}`,lang:`${u}`},a(s),9,oe))),128))]),e.jskos.languageMapContent(e.item,"altLabel")?(t(),i("ul",le,[l("li",null,[l("b",null,a(e.t("altLabels"))+":",1)]),(t(!0),i(b,null,h(e.iterateLanguageMapContent(e.item,"altLabel"),({language:u,label:s},m)=>(t(),i("li",{key:`${u}-${m}`,lang:`${u}`},a(s),9,re))),128))])):r("",!0)]),_:1},8,["title"])),e.jskos.languageMapContent(e.item,"scopeNote")?(t(),k(L(e.flat?"div":"tab"),{key:0,title:e.t("scope")},{default:v(()=>[l("ul",ue,[e.flat?(t(),i("li",de,[l("b",null,a(e.t("scope"))+":",1)])):r("",!0),(t(!0),i(b,null,h(e.iterateLanguageMapContent(e.item,"scopeNote"),({language:u,label:s},m)=>(t(),i("li",{key:`${u}-${m}`,lang:`${u}`},a(s),9,me))),128))])]),_:1},8,["title"])):r("",!0),e.jskos.languageMapContent(e.item,"editorialNote")?(t(),k(L(e.flat?"div":"tab"),{key:1,title:e.t("editorial")},{default:v(()=>[l("ul",ge,[e.flat?(t(),i("li",fe,[l("b",null,a(e.t("editorial"))+":",1)])):r("",!0),(t(!0),i(b,null,h(e.iterateLanguageMapContent(e.item,"editorialNote"),({language:u,label:s},m)=>(t(),i("li",{key:`${u}-${m}`,lang:`${u}`},a(s),9,pe))),128))])]),_:1},8,["title"])):r("",!0),y(e.$slots,"additionalTabs")]),_:3})}const ke=S(Q,[["render",be]]),{draggedItem:z,addDropzone:he}=H,E={en:{showAllAncestors:"show all ancestors",showLessAncestors:"show less ancesters",license:"License",dropzone:"Drop an item here to select it."},de:{showAllAncestors:"zeige alle übergeordneten Konzepte",showLessAncestors:"zeige weniger übergeordnete Konzepte",license:"Lizenz",dropzone:"Ziehe ein Item hierrein, um es auszuwählen."}},V=w(()=>$.getLanguages().find(e=>E[e])||"en"),ye=e=>E[V.value][e],ce=N({name:"ItemDetails",components:{ItemName:P,ItemList:q,LicenseInfo:U,ItemDetailsTabs:ke},props:{item:{type:Object,required:!0},itemListOptions:{type:Object,default:()=>({})},showTabs:{type:Boolean,default:!0},showAncestors:{type:Boolean,default:!0},showBroader:{type:Boolean,default:!0},showNarrower:{type:Boolean,default:!0},dropzone:{type:Boolean,default:!0},draggable:{type:Boolean,default:!0},flat:{type:Boolean,default:!1}},emits:["select"],setup(e,{emit:o}){const c=w(()=>!A(e.item,z.value)),f=he(null,n=>{e.dropzone&&c.value&&o("select",{item:n})}),p=w(()=>Object.assign({draggable:e.draggable},e.itemListOptions));return{utils:T,jskos:B,currentLanguage:V,t:ye,draggedItem:z,...f,isDraggedConceptDifferent:c,itemListOptions_:p}}}),ve={class:"jskos-vue-itemDetails-name"},$e={key:0};function Le(e,o,c,f,p,n){const g=D("item-name"),u=D("license-info"),s=D("item-list"),m=D("item-details-tabs");return t(),i("div",{class:"jskos-vue-itemDetails",onDragover:o[3]||(o[3]=(...d)=>e.dragover&&e.dragover(...d)),onDragenter:o[4]||(o[4]=(...d)=>e.dragenter&&e.dragenter(...d)),onDragleave:o[5]||(o[5]=(...d)=>e.dragleave&&e.dragleave(...d)),onDrop:o[6]||(o[6]=(...d)=>e.drop&&e.drop(...d))},[J(l("div",{class:"jskos-vue-itemDetails-dropzone jskos-vue-text-small"},a(e.t("dropzone")),513),[[R,e.dropzone&&e.isDraggingOver&&e.isDraggedConceptDifferent]]),l("div",ve,[y(e.$slots,"before"),y(e.$slots,"beforeName"),C(g,{item:e.item,draggable:e.draggable},null,8,["item","draggable"]),y(e.$slots,"afterName")]),e.item.license&&e.item.license.length?(t(),i("div",$e,[j(a(e.t("license"))+": ",1),C(u,{item:e.item},null,8,["item"])])):r("",!0),e.showAncestors?(t(),k(s,I({key:1},e.itemListOptions_,{items:(e.item.ancestors||[]).filter(Boolean).reverse(),indent:!0,class:"jskos-vue-itemDetails-ancestors",onSelect:o[0]||(o[0]=d=>e.$emit("select",{item:d.item}))}),null,16,["items"])):r("",!0),e.showBroader?(t(),k(s,I({key:2},e.itemListOptions_,{items:(e.item.broader||[]).filter(d=>!e.jskos.isContainedIn(d,e.item.ancestors||[])),class:"jskos-vue-itemDetails-broader",onSelect:o[1]||(o[1]=d=>e.$emit("select",{item:d.item}))}),null,16,["items"])):r("",!0),y(e.$slots,"beforeTabs"),e.showTabs?(t(),k(m,{key:3,item:e.item,flat:e.flat},{additionalTabs:v(()=>[y(e.$slots,"additionalTabs")]),_:3},8,["item","flat"])):r("",!0),y(e.$slots,"afterTabs"),e.showNarrower?(t(),k(s,I({key:4},e.itemListOptions_,{items:e.item.narrower||[],class:"jskos-vue-itemDetails-narrower",onSelect:o[2]||(o[2]=d=>e.$emit("select",{item:d.item}))}),null,16,["items"])):r("",!0),y(e.$slots,"after")],32)}const Se=S(ce,[["render",Le]]);export{Se as I,ke as a};
