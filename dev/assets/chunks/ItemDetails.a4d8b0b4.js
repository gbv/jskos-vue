import{u as B,a as T,j as h,d as V}from"./utils.18cb2ff0.js";import{I as q}from"./ItemName.6cba955f.js";import{I as E}from"./ItemList.5db996f6.js";import{f as F,v as K}from"./style.ada7e4fb.js";import{A as O}from"./AutoLink.8ee23c2a.js";import"./shared.3f0a6f78.js";import{k as D,f as _,_ as C,o as t,i as k,w as $,a as j,b as d,c as o,l as y,m as c,F as v,t as m,d as w,r as I,q as L,y as G,z as R,p as z}from"../app.58ffbb48.js";const S={en:{created:"Created",modified:"Modified",issued:"Issued",altLabels:"Alternative Labels",definition:"Definition",info:"Info",labels:"Labels",editorial:"Editorial",scope:"Scope",languages:"Languages",type:"Type"},de:{created:"Erstellung",modified:"\xC4nderung",issued:"Ver\xF6ffentlicht",altLabels:"Alternative Bezeichnungen",definition:"Definition",info:"Info",labels:"Bezeichnungen",editorial:"Editorial",scope:"Scope",languages:"Sprachen",type:"Art"}},N=D(()=>h.languagePreference.getLanguages().find(e=>S[e])||"en"),U=e=>S[N.value][e],W=_({name:"ItemDetailsTabs",components:{Tabs:F,Tab:K,AutoLink:O},props:{item:{type:Object,required:!0}},setup(e){const a=(r,g)=>Object.keys(r&&r[g]||{}).map(n=>{const l=r[g][n];return(Array.isArray(l)?l:[l]).map(u=>({language:n,label:u}))}).reduce((n,l)=>n.concat(l),[]).filter(n=>n.language!="-").sort((n,l)=>n.language===h.languagePreference.selectLanguage(r[g])&&l.language!==h.languagePreference.selectLanguage(r[g])?-1:l.language===h.languagePreference.selectLanguage(r[g])&&n.language!==h.languagePreference.selectLanguage(r[g])?1:0),p=D(()=>{if(!e.item)return[];let r=[],g=e.item&&e.item.inScheme&&e.item.inScheme[0]&&e.item.inScheme[0].types||[];for(let n of e.item.type||[])typeof n!="object"&&(n={uri:n}),!(!n||["http://www.w3.org/2004/02/skos/core#Concept","http://www.w3.org/2004/02/skos/core#ConceptScheme"].includes(n.uri))&&(n=g.find(l=>h.compare(l,n))||n,r.push(n));return r});return{utils:B,jskos:T,currentLanguage:N,t:U,iterateLanguageMapContent:a,types:p}}}),Z={class:"jskos-vue-itemDetails-list"},H={key:0,class:"jskos-vue-text-lightGrey"},J={class:"jskos-vue-itemDetails-list"},Q={key:0},X={key:1},Y={key:0,class:"jskos-vue-itemDetails-list"},x=["lang"],ee={class:"jskos-vue-itemDetails-list"},te=["lang"],se={key:0,class:"jskos-vue-itemDetails-list"},ne=["lang"],ie={class:"jskos-vue-itemDetails-list"},oe=["lang"],ae={class:"jskos-vue-itemDetails-list"},re=["lang"];function le(e,a,p,r,g,n){const l=L("auto-link"),u=L("tab"),f=L("tabs");return t(),k(f,{borders:"bottom",size:"sm",class:"jskos-vue-itemDetails-tabs"},{default:$(()=>[j(u,{title:e.t("info")},{default:$(()=>[d("ul",Z,[(t(!0),o(v,null,y([e.item.uri].concat(e.item.identifier).filter(s=>s!=null),(s,i)=>(t(),o("li",{key:i},[j(l,{href:s},null,8,["href"]),s===e.item.uri?(t(),o("span",H," (URI)")):c("",!0)]))),128))]),d("ul",J,[e.types.length?(t(),o("li",Q,[d("b",null,m(e.t("type"))+":",1),w(" "+m(e.types.map(s=>e.jskos.prefLabel(s)).join(", ")),1)])):c("",!0),(t(),o(v,null,y(["created","issued","modified"],s=>(t(),o(v,null,[e.item[s]?(t(),o("li",{key:s},[d("b",null,m(e.t(s))+":",1),w(" "+m(e.utils.dateToString(e.item[s])),1)])):c("",!0)],64))),64)),e.item.languages?(t(),o("li",X,[d("b",null,m(e.t("languages"))+":",1),w(" "+m(e.item.languages.join(", ")),1)])):c("",!0)]),e.jskos.languageMapContent(e.item,"definition")?(t(),o("ul",Y,[d("li",null,[d("b",null,m(e.t("definition"))+":",1)]),(t(!0),o(v,null,y(e.iterateLanguageMapContent(e.item,"definition"),({language:s,label:i},b)=>(t(),o("li",{key:`${s}-${b}`,lang:`${s}`},m(i),9,x))),128))])):c("",!0)]),_:1},8,["title"]),j(u,{title:e.t("labels")},{default:$(()=>[d("ul",ee,[(t(!0),o(v,null,y(e.iterateLanguageMapContent(e.item,"prefLabel"),({language:s,label:i},b)=>(t(),o("li",{key:`${s}-${b}`,lang:`${s}`},m(i),9,te))),128))]),e.jskos.languageMapContent(e.item,"altLabel")?(t(),o("ul",se,[d("li",null,[d("b",null,m(e.t("altLabels"))+":",1)]),(t(!0),o(v,null,y(e.iterateLanguageMapContent(e.item,"altLabel"),({language:s,label:i},b)=>(t(),o("li",{key:`${s}-${b}`,lang:`${s}`},m(i),9,ne))),128))])):c("",!0)]),_:1},8,["title"]),e.jskos.languageMapContent(e.item,"scopeNote")?(t(),k(u,{key:0,title:e.t("scope")},{default:$(()=>[d("ul",ie,[(t(!0),o(v,null,y(e.iterateLanguageMapContent(e.item,"scopeNote"),({language:s,label:i},b)=>(t(),o("li",{key:`${s}-${b}`,lang:`${s}`},m(i),9,oe))),128))])]),_:1},8,["title"])):c("",!0),e.jskos.languageMapContent(e.item,"editorialNote")?(t(),k(u,{key:1,title:e.t("editorial")},{default:$(()=>[d("ul",ae,[(t(!0),o(v,null,y(e.iterateLanguageMapContent(e.item,"editorialNote"),({language:s,label:i},b)=>(t(),o("li",{key:`${s}-${b}`,lang:`${s}`},m(i),9,re))),128))])]),_:1},8,["title"])):c("",!0),I(e.$slots,"additionalTabs")]),_:3})}var ue=C(W,[["render",le]]);const me=_({name:"LicenseInfo",components:{AutoLink:O},props:{item:{type:Object,required:!0}},setup(e){const a={"http://creativecommons.org/publicdomain/zero/1.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/cc-zero.svg","http://creativecommons.org/licenses/by/3.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by.svg","http://creativecommons.org/licenses/by-nc-nd/3.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by-nc-nd.svg","http://creativecommons.org/licenses/by-nc-nd/4.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by-nc-nd.svg","http://creativecommons.org/licenses/by-nc-sa/4.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by-nc-sa.svg","http://creativecommons.org/licenses/by-sa/4.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by-sa.svg","http://opendatacommons.org/licenses/odbl/1.0/":"https://img.shields.io/badge/License-ODbL-lightgrey.svg","http://www.wtfpl.net/":"https://img.shields.io/badge/License-WTFPL-lightgrey.svg"},p=D(()=>{var n,l,u;const r=(l=(e.item.publisher||[]).find(f=>f.url))!=null?l:(n=e.item.publisher)==null?void 0:n[0];return{url:(u=r==null?void 0:r.url)!=null?u:e.item.url,label:h.prefLabel(r)||"?"}});return{licenseBadges:a,licenseAttribution:p}}}),ge={class:"jskos-vue-itemDetails-licenseInfo"},de=["src"],ce={key:1};function pe(e,a,p,r,g,n){const l=L("auto-link");return t(),o("div",ge,[(t(!0),o(v,null,y(e.item.license||[],(u,f)=>(t(),k(l,{key:f,href:u.uri,title:`by ${e.licenseAttribution.label}`,class:"jskos-vue-itemDetails-licenseInfo-badge"},{default:$(()=>[e.licenseBadges[u.uri]?(t(),o("img",{key:0,src:e.licenseBadges[u.uri]},null,8,de)):(t(),o("span",ce,m(u.uri),1))]),_:2},1032,["href","title"]))),128))])}var fe=C(me,[["render",pe]]);const{draggedItem:A,addDropzone:be}=V,M={en:{showAllAncestors:"show all ancestors",showLessAncestors:"show less ancesters",license:"License",dropzone:"Drop an item here to select it."},de:{showAllAncestors:"zeige alle \xFCbergeordneten Konzepte",showLessAncestors:"zeige weniger \xFCbergeordnete Konzepte",license:"Lizenz",dropzone:"Ziehe ein Item hierrein, um es auszuw\xE4hlen."}},P=D(()=>h.languagePreference.getLanguages().find(e=>M[e])||"en"),ve=e=>M[P.value][e],he=_({name:"ItemDetails",components:{ItemName:q,ItemList:E,LicenseInfo:fe,ItemDetailsTabs:ue},props:{item:{type:Object,required:!0},itemListOptions:{type:Object,default:()=>({})},showTabs:{type:Boolean,default:!0},showAncestors:{type:Boolean,default:!0},showBroader:{type:Boolean,default:!0},showNarrower:{type:Boolean,default:!0},dropzone:{type:Boolean,default:!0},draggable:{type:Boolean,default:!0}},emits:["select"],setup(e,{emit:a}){const p=D(()=>!h.compare(e.item,A.value)),r=be(null,n=>{e.dropzone&&p.value&&a("select",{item:n})}),g=D(()=>Object.assign({draggable:e.draggable},e.itemListOptions));return{utils:B,jskos:T,currentLanguage:P,t:ve,draggedItem:A,...r,isDraggedConceptDifferent:p,_itemListOptions:g}}}),ye={class:"jskos-vue-itemDetails-name"},ke={key:0};function Le(e,a,p,r,g,n){const l=L("item-name"),u=L("license-info"),f=L("item-list"),s=L("item-details-tabs");return t(),o("div",{class:"jskos-vue-itemDetails",onDragover:a[3]||(a[3]=(...i)=>e.dragover&&e.dragover(...i)),onDragenter:a[4]||(a[4]=(...i)=>e.dragenter&&e.dragenter(...i)),onDragleave:a[5]||(a[5]=(...i)=>e.dragleave&&e.dragleave(...i)),onDrop:a[6]||(a[6]=(...i)=>e.drop&&e.drop(...i))},[G(d("div",{class:"jskos-vue-itemDetails-dropzone jskos-vue-text-small"},m(e.t("dropzone")),513),[[R,e.dropzone&&e.isDraggingOver&&e.isDraggedConceptDifferent]]),d("div",ye,[I(e.$slots,"beforeName"),j(l,{item:e.item,draggable:e.draggable},null,8,["item","draggable"]),I(e.$slots,"afterName")]),e.item.license&&e.item.license.length?(t(),o("div",ke,[w(m(e.t("license"))+": ",1),j(u,{item:e.item},null,8,["item"])])):c("",!0),e.showAncestors?(t(),k(f,z({key:1},e._itemListOptions,{items:(e.item.ancestors||[]).filter(Boolean).reverse(),indent:!0,class:"jskos-vue-itemDetails-ancestors",onSelect:a[0]||(a[0]=i=>e.$emit("select",{item:i.item}))}),null,16,["items"])):c("",!0),e.showBroader?(t(),k(f,z({key:2},e._itemListOptions,{items:(e.item.broader||[]).filter(i=>!e.jskos.isContainedIn(i,e.item.ancestors||[])),class:"jskos-vue-itemDetails-broader",onSelect:a[1]||(a[1]=i=>e.$emit("select",{item:i.item}))}),null,16,["items"])):c("",!0),e.showTabs?(t(),k(s,{key:3,item:e.item},{additionalTabs:$(()=>[I(e.$slots,"additionalTabs")]),_:3},8,["item"])):c("",!0),e.showNarrower?(t(),k(f,z({key:4},e._itemListOptions,{items:e.item.narrower||[],class:"jskos-vue-itemDetails-narrower",onSelect:a[2]||(a[2]=i=>e.$emit("select",{item:i.item}))}),null,16,["items"])):c("",!0)],32)}var Ce=C(he,[["render",Le]]);export{Ce as I,fe as L,ue as a};
