import{_ as j,o as c,c as m,r as g,F as T,B as M,Z as k,k as p,N as O,n as U,b as h,K as C,h as S}from"./framework.DrGHJ5PD.js";import{I as N}from"./ItemName.CU7_hMEF.js";import{L as P}from"./LoadingIndicator.Cnf7X1bS.js";import{V as A}from"./vue-scrollto.DDOJiwre.js";import{e as D}from"./utils.DzOti5Yg.js";/* empty css               */const H={class:"jskos-vue-itemList"},V=["data-uri","draggable","onDragstart","onClick"],q={__name:"ItemList",props:{items:{type:Array,required:!0},itemProperty:{type:String,default:null},rowMode:{type:Boolean,default:!0},draggable:{type:Boolean,default:!0},indent:{type:Boolean,default:!1},itemNameOptions:{type:Object,default:()=>({})},indicatorByUri:{type:Object,default:()=>({})},highlightByUri:{type:Object,default:()=>({})}},emits:["select"],setup(n,{expose:v}){const{dragstart:$,dragend:y}=D,a=n,b=S(()=>Object.assign({draggable:a.draggable},a.itemNameOptions||{}));function w(t,i){let e={},o=a.indicatorByUri[t&&t.uri];o||(o="transparent"),o!==!0&&(e["--jskos-vue-itemList-indicator-color"]=o);let r=a.highlightByUri[t&&t.uri];return r?e["background-color"]=r===!0?"var(--jskos-vue-conceptTree-selected-bgColor)":r:r="transparent",a.indent&&(e["padding-left"]=`${(i+1)*5}px`),e}function s(t){return a.itemProperty?t[a.itemProperty]:t}function B(t,i=60){const e=this.$el,o=e.querySelectorAll(`[data-uri='${t}']`)[0];if(!e||!o)return!1;let r=e.scrollTop,u=r+e.clientHeight,l=o.offsetTop-e.offsetTop,d=l+o.clientHeight,L=l>=r&&d<=u,f;return i===!0?f=l<r&&d>r||d>u&&l<u:typeof i=="number"&&(l<r&&d>r?f=(d-r)*100/o.clientHeight>i:d>u&&l<u&&(f=(u-l)*100/o.clientHeight>i)),!!(L||i&&f)}function I(t,i=!1){if(i&&this.isUriInView(t))return;const e=this.$el,o=e.querySelectorAll(`[data-uri='${t}']`)[0],r={container:e,easing:"ease-in",offset:-15,cancelable:!0,x:!1,y:!0};o&&A.scrollTo(o,200,r)}return v({isUriInView:B,scrollToUri:I}),(t,i)=>(c(),m("div",H,[g(t.$slots,"beforeList",{},void 0,!0),(c(!0),m(T,null,M(n.items,(e,o)=>(c(),m("div",{key:s(e)&&s(e).uri,class:U({"jskos-vue-itemList-item":!0,"jskos-vue-itemList-row":n.rowMode,"jskos-vue-itemList-row-selectable":n.rowMode&&!!s(e)}),style:O(w(s(e),o)),"data-uri":s(e)&&s(e).uri,draggable:n.rowMode&&n.draggable&&!!s(e),onDragstart:r=>p($)(s(e)),onDragend:i[0]||(i[0]=(...r)=>p(y)&&p(y)(...r)),onClick:k(r=>n.rowMode&&s(e)&&t.$emit("select",{item:s(e),row:!0}),["stop"])},[g(t.$slots,"beforeItem",{item:e},void 0,!0),s(e)?(c(),h(N,C({key:0,ref_for:!0},b.value,{item:s(e),draggable:b.value.draggable!==!1&&!n.rowMode,onClick:k(r=>t.$emit("select",{item:s(e),row:!1}),["stop"])}),null,16,["item","draggable","onClick"])):(c(),h(P,{key:1,style:{"align-self":"center"}})),g(t.$slots,"afterItem",{item:e},void 0,!0)],46,V))),128)),g(t.$slots,"afterList",{},void 0,!0)]))}},G=j(q,[["__scopeId","data-v-2812ea11"]]);export{G as I};
