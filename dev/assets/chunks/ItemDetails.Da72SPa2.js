import{_ as q,o as i,b as k,w as L,H as I,k as a,c as s,j as d,t as r,e as n,F as v,B as D,E as O,a as B,r as $,h as C,ah as G,ai as K,K as A}from"./framework.DrGHJ5PD.js";import{u as F,p as V,g as R,h as S,l as T,a as H,i as U,j as p,f as J}from"./utils.DghZQ3te.js";import{I as Q}from"./ItemName.BCVkczNg.js";import{I as E}from"./ItemList.DFDf1mCF.js";import{_ as M}from"./AutoLink.CJhh0_EK.js";/* empty css               *//* empty css              */import{L as W}from"./LicenseInfo.CiRgjc0B.js";const X={key:0,class:"jskos-vue-itemDetails-list"},Y={key:0},Z={key:0,class:"jskos-vue-text-lightGrey"},x={class:"jskos-vue-itemDetails-list"},_={key:0},ee={key:1},te={key:2},ie={key:1,class:"jskos-vue-itemDetails-list"},le=["lang"],se={key:0,class:"jskos-vue-itemDetails-list"},ae={key:0},ne=["lang"],re={key:1,class:"jskos-vue-itemDetails-list"},ue=["lang"],oe={class:"jskos-vue-itemDetails-list"},de={key:0},fe=["lang"],me={class:"jskos-vue-itemDetails-list"},ce={key:0},ge=["lang"],be={__name:"ItemDetailsTabs",props:{item:{type:Object,required:!0},flat:{type:Boolean,default:!1},fields:{type:Object,default:()=>({})}},setup(e){const{t:f}=F({en:{created:"Created",modified:"Modified",issued:"Issued",altLabels:"Alternative Labels",definition:"Definition",info:"Info",identifier:"Identifier",labels:"Labels",editorial:"Editorial",scope:"Scope",languages:"Languages",type:"Type",publisher:"Publisher"},de:{created:"Erstellung",modified:"Änderung",issued:"Veröffentlicht",altLabels:"Alternative Bezeichnungen",definition:"Definition",info:"Info",identifier:"Identifier",labels:"Bezeichnungen",editorial:"Editorial",scope:"Scope",languages:"Sprachen",type:"Art",publisher:"Herausgeber"}}),h=e,j=(c,b)=>Object.keys(c&&c[b]||{}).map(l=>{const t=c[b][l];return(Array.isArray(t)?t:[t]).map(u=>({language:l,label:u}))}).reduce((l,t)=>l.concat(t),[]).filter(l=>l.language!="-").sort((l,t)=>l.language===T.selectLanguage(c[b])&&t.language!==T.selectLanguage(c[b])?-1:t.language===T.selectLanguage(c[b])&&l.language!==T.selectLanguage(c[b])?1:0),w=C(()=>{if(!h.item)return[];let c=[],b=h.item&&h.item.inScheme&&h.item.inScheme[0]&&h.item.inScheme[0].types||[];for(let l of h.item.type||[])typeof l!="object"&&(l={uri:l}),!(!l||["http://www.w3.org/2004/02/skos/core#Concept","http://www.w3.org/2004/02/skos/core#ConceptScheme"].includes(l.uri))&&(l=b.find(t=>H(t,l))||l,c.push(l));return c}),o=C(()=>Object.assign({identifier:!0,type:!0,publisher:!U(h.item),created:!0,issued:!0,modified:!0,languages:!0,definition:!0,prefLabel:!0,altLabel:!0,scopeNote:!0,editorialNote:!0},h.fields));return(c,b)=>(i(),k(I(e.flat?"div":"tabs"),{borders:"bottom",size:"sm",class:"jskos-vue-itemDetails-tabs"},{default:L(()=>[["identifier","type","publisher","created","issued","modified","languages","definition"].filter(l=>o.value[l]).length?(i(),k(I(e.flat?"div":"tab"),{key:0,title:a(f)("info")},{default:L(()=>{var l;return[o.value.identifier?(i(),s("ul",X,[e.flat?(i(),s("li",Y,[d("b",null,r(a(f)("identifier"))+":",1)])):n("",!0),(i(!0),s(v,null,D([e.item.uri].concat(e.item.identifier).filter(t=>t!=null),(t,u)=>(i(),s("li",{key:u},[O(M,{href:t},null,8,["href"]),t===e.item.uri?(i(),s("span",Z," (URI)")):n("",!0)]))),128))])):n("",!0),d("ul",x,[o.value.type&&w.value.length?(i(),s("li",_,[d("b",null,r(a(f)("type"))+":",1),B(" "+r(w.value.map(t=>V(t)).join(", ")),1)])):n("",!0),o.value.publisher&&((l=e.item.publisher)!=null&&l.length)?(i(),s("li",ee,[d("b",null,r(a(f)("publisher"))+": ",1),(i(!0),s(v,null,D(e.item.publisher,(t,u)=>(i(),s(v,{key:`publisher-${u}`},[u>0?(i(),s(v,{key:0},[B(" · ")],64)):n("",!0),O(M,{href:t.url||t.uri,text:V(t)},null,8,["href","text"])],64))),128))])):n("",!0),(i(!0),s(v,null,D(["created","issued","modified"].filter(t=>o.value[t]),t=>(i(),s(v,null,[e.item[t]?(i(),s("li",{key:t},[d("b",null,r(a(f)(t))+":",1),B(" "+r(R(e.item[t])),1)])):n("",!0)],64))),256)),o.value.languages&&e.item.languages?(i(),s("li",te,[d("b",null,r(a(f)("languages"))+":",1),B(" "+r(e.item.languages.join(", ")),1)])):n("",!0)]),o.value.definition&&S(e.item,"definition")?(i(),s("ul",ie,[d("li",null,[d("b",null,r(a(f)("definition"))+":",1)]),(i(!0),s(v,null,D(j(e.item,"definition"),({language:t,label:u},N)=>(i(),s("li",{key:`${t}-${N}`,lang:`${t}`},r(u),9,le))),128))])):n("",!0)]}),_:1},8,["title"])):n("",!0),o.value.prefLabel||o.value.altLabel?(i(),k(I(e.flat?"div":"tab"),{key:1,title:a(f)("labels")},{default:L(()=>[o.value.prefLabel?(i(),s("ul",se,[e.flat?(i(),s("li",ae,[d("b",null,r(a(f)("labels"))+":",1)])):n("",!0),(i(!0),s(v,null,D(j(e.item,"prefLabel"),({language:l,label:t},u)=>(i(),s("li",{key:`${l}-${u}`,lang:`${l}`},r(t),9,ne))),128))])):n("",!0),o.value.altLabel&&S(e.item,"altLabel")?(i(),s("ul",re,[d("li",null,[d("b",null,r(a(f)("altLabels"))+":",1)]),(i(!0),s(v,null,D(j(e.item,"altLabel"),({language:l,label:t},u)=>(i(),s("li",{key:`${l}-${u}`,lang:`${l}`},r(t),9,ue))),128))])):n("",!0)]),_:1},8,["title"])):n("",!0),o.value.scopeNote&&S(e.item,"scopeNote")?(i(),k(I(e.flat?"div":"tab"),{key:2,title:a(f)("scope")},{default:L(()=>[d("ul",oe,[e.flat?(i(),s("li",de,[d("b",null,r(a(f)("scope"))+":",1)])):n("",!0),(i(!0),s(v,null,D(j(e.item,"scopeNote"),({language:l,label:t},u)=>(i(),s("li",{key:`${l}-${u}`,lang:`${l}`},r(t),9,fe))),128))])]),_:1},8,["title"])):n("",!0),o.value.editorialNote&&S(e.item,"editorialNote")?(i(),k(I(e.flat?"div":"tab"),{key:3,title:a(f)("editorial")},{default:L(()=>[d("ul",me,[e.flat?(i(),s("li",ce,[d("b",null,r(a(f)("editorial"))+":",1)])):n("",!0),(i(!0),s(v,null,D(j(e.item,"editorialNote"),({language:l,label:t},u)=>(i(),s("li",{key:`${l}-${u}`,lang:`${l}`},r(t),9,ge))),128))])]),_:1},8,["title"])):n("",!0),$(c.$slots,"additionalTabs",{},void 0,!0)]),_:3}))}},ye=q(be,[["__scopeId","data-v-4e50db97"]]),ve={class:"jskos-vue-itemDetails-name"},he={key:0},ke={__name:"ItemDetails",props:{item:{type:Object,required:!0},itemListOptions:{type:Object,default:()=>({})},showTabs:{type:Boolean,default:!0},showAncestors:{type:Boolean,default:!0},showBroader:{type:Boolean,default:!0},showNarrower:{type:Boolean,default:!0},dropzone:{type:Boolean,default:!0},draggable:{type:Boolean,default:!0},flat:{type:Boolean,default:!1},fields:{type:Object,default:()=>({})}},emits:["select"],setup(e,{emit:f}){const{draggedItem:h,addDropzone:j}=J,{t:w}=F(),o=e,c=f,b=C(()=>!H(o.item,h.value)),{dragover:l,dragenter:t,dragleave:u,drop:N,isDraggingOver:P}=j(null,y=>{o.dropzone&&b.value&&c("select",{item:y})}),z=C(()=>Object.assign({draggable:o.draggable},o.itemListOptions));return(y,g)=>(i(),s("div",{class:"jskos-vue-itemDetails",onDragover:g[3]||(g[3]=(...m)=>a(l)&&a(l)(...m)),onDragenter:g[4]||(g[4]=(...m)=>a(t)&&a(t)(...m)),onDragleave:g[5]||(g[5]=(...m)=>a(u)&&a(u)(...m)),onDrop:g[6]||(g[6]=(...m)=>a(N)&&a(N)(...m))},[G(d("div",{class:"jskos-vue-itemDetails-dropzone jskos-vue-text-small"},r(a(w)("dropzone")),513),[[K,e.dropzone&&a(P)&&b.value]]),d("div",ve,[$(y.$slots,"before",{},void 0,!0),$(y.$slots,"beforeName",{},void 0,!0),O(Q,{item:e.item,draggable:e.draggable},null,8,["item","draggable"]),$(y.$slots,"afterName",{},void 0,!0)]),e.fields.license!==!1&&e.item.license&&e.item.license.length?(i(),s("div",he,[B(r(a(w)("license"))+": ",1),O(W,{item:e.item},null,8,["item"])])):n("",!0),e.showAncestors?(i(),k(E,A({key:1},z.value,{items:(e.item.ancestors||[]).filter(Boolean).reverse(),indent:!0,class:"jskos-vue-itemDetails-ancestors",onSelect:g[0]||(g[0]=m=>y.$emit("select",{item:m.item}))}),null,16,["items"])):n("",!0),e.showBroader?(i(),k(E,A({key:2},z.value,{items:(e.item.broader||[]).filter(m=>!p(m,e.item.ancestors||[])),class:"jskos-vue-itemDetails-broader",onSelect:g[1]||(g[1]=m=>y.$emit("select",{item:m.item}))}),null,16,["items"])):n("",!0),$(y.$slots,"beforeTabs",{},void 0,!0),e.showTabs?(i(),k(ye,{key:3,item:e.item,flat:e.flat,fields:e.fields},{additionalTabs:L(()=>[$(y.$slots,"additionalTabs",{},void 0,!0)]),_:3},8,["item","flat","fields"])):n("",!0),$(y.$slots,"afterTabs",{},void 0,!0),e.showNarrower?(i(),k(E,A({key:4},z.value,{items:e.item.narrower||[],class:"jskos-vue-itemDetails-narrower",onSelect:g[2]||(g[2]=m=>y.$emit("select",{item:m.item}))}),null,16,["items"])):n("",!0),$(y.$slots,"after",{},void 0,!0)],32))}},Se=q(ke,[["__scopeId","data-v-f2ae7c14"]]);export{Se as I,ye as a};
