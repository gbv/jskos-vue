import{j as u}from"./index.C0KanUIi.js";import{A as g}from"./AutoLink.D7zy9aQe.js";import{_ as b,d,h as v,B as f,o as n,c as i,F as h,C as k,b as y,w as _,t as L}from"./framework.eEdxNogO.js";import{p as a,n as I}from"./tools.CbaX9TL_.js";const $=d({name:"LicenseInfo",components:{AutoLink:g},props:{item:{type:Object,required:!0},shieldsIoOptIn:{type:Boolean,default:!1}},setup(s){const c={"http://creativecommons.org/publicdomain/zero/1.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/cc-zero.svg","https://creativecommons.org/publicdomain/mark/1.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/cc-zero.svg","http://creativecommons.org/licenses/by/3.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by.svg","http://creativecommons.org/licenses/by-nc-nd/3.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by-nc-nd.svg","http://creativecommons.org/licenses/by-nc-nd/4.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by-nc-nd.svg","http://creativecommons.org/licenses/by-nc-sa/4.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by-nc-sa.svg","http://creativecommons.org/licenses/by-sa/4.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by-sa.svg"},m=t=>{var e;if(c[t.uri])return c[t.uri];const o=((e=t.notation)==null?void 0:e[0])||a(t,{fallbackToUri:!1});return s.shieldsIoOptIn&&o?`https://img.shields.io/badge/${encodeURIComponent(o).replaceAll("_","__").replaceAll("-","--")}-000000?style=flat-square`:null},l=t=>{const o=a(t,{fallbackToUri:!1});let e=I(t);o&&e&&(e=` (${e})`);let r=o+e;return r||(r=t.uri),r};return{licenseAttribution:v(()=>{var e;const t=(s.item.publisher||[]).find(r=>r.url)??((e=s.item.publisher)==null?void 0:e[0]);return{url:(t==null?void 0:t.url)??s.item.url,label:a(t)||"?"}}),getLicenseBadge:m,getLicenseName:l,jskos:u}}}),B={class:"jskos-vue-itemDetails-licenseInfo"},A=["src"],x={key:1};function j(s,c,m,l,p,t){const o=f("auto-link");return n(),i("div",B,[(n(!0),i(h,null,k(s.item.license||[],(e,r)=>(n(),y(o,{key:r,href:e.uri,title:`${s.getLicenseName(e)} by ${s.licenseAttribution.label}`,class:"jskos-vue-itemDetails-licenseInfo-badge"},{default:_(()=>[s.getLicenseBadge(e)?(n(),i("img",{key:0,src:s.getLicenseBadge(e)},null,8,A)):(n(),i("span",x,L(s.getLicenseName(e)),1))]),_:2},1032,["href","title"]))),128))])}const O=b($,[["render",j],["__scopeId","data-v-ac89b713"]]);export{O as L};
