var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,n=(t,s,i)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[s]=i;import{l as o,e as r,B as g,A as c,m,j as u,n as p,o as d,c as f,p as b,C as v,D as h,b as y,t as k,r as j,d as L,F as D,q as w,f as O,s as $}from"./app.84d78238.js";import{_ as z}from"./ItemName.ce49e6d4.js";import{_ as x}from"./ItemList.48043404.js";import{_ as C}from"./AutoLink.072d94af.js";import{u as A,d as I}from"./utils.2e583d56.js";import"./shared.99084317.js";import"./style.4b5628f1.js";const{draggedItem:S,addDropzone:P}=I,M={en:{showAllAncestors:"show all ancestors",showLessAncestors:"show less ancesters",created:"Created",modified:"Modified",issued:"Issued",altLabels:"Alternative Labels",definition:"Definition",info:"Info",labels:"Labels",editorial:"Editorial",scope:"Scope",license:"License",languages:"Languages",type:"Type",dropzone:"Drop an item here to select it."},de:{showAllAncestors:"zeige alle übergeordneten Konzepte",showLessAncestors:"zeige weniger übergeordnete Konzepte",created:"Erstellung",modified:"Änderung",issued:"Veröffentlicht",altLabels:"Alternative Bezeichnungen",definition:"Definition",info:"Info",labels:"Bezeichnungen",editorial:"Editorial",scope:"Scope",license:"Lizenz",languages:"Sprachen",type:"Art",dropzone:"Ziehe ein Item hierrein, um es auszuwählen."}},N=o((()=>u.exports.languagePreference.getLanguages().find((e=>M[e]))||"en")),_=e=>M[N.value][e],B=r({name:"ItemDetails",components:{ItemName:z,ItemList:x,Tabs:g,Tab:c,AutoLink:C},props:{item:{type:Object,required:!0},itemListOptions:{type:Object,default:()=>({})}},emits:["select"],setup(e,{emit:r}){const g=o((()=>{const t=(e.item.publisher||[]).find((e=>e.url));return{url:t.url||e.item.url,label:u.exports.prefLabel(t)||"?"}})),c=o((()=>{if(!e.item)return[];let t=[],s=e.item&&e.item.inScheme&&e.item.inScheme[0]&&e.item.inScheme[0].types||[];for(let i of e.item.type||[])"object"!=typeof i&&(i={uri:i}),i&&!["http://www.w3.org/2004/02/skos/core#Concept","http://www.w3.org/2004/02/skos/core#ConceptScheme"].includes(i.uri)&&(i=s.find((e=>u.exports.compare(e,i)))||i,t.push(i));return t})),p=o((()=>!u.exports.compare(e.item,S.value))),d=P(null,(e=>{p.value&&r("select",{item:e})}));return f=((e,t)=>{for(var s in t||(t={}))a.call(t,s)&&n(e,s,t[s]);if(i)for(var s of i(t))l.call(t,s)&&n(e,s,t[s]);return e})({utils:A,jskos:m,language:N,t:_,iterateLanguageMapContent:(e,t)=>Object.keys(e&&e[t]||{}).map((s=>{const i=e[t][s];return(Array.isArray(i)?i:[i]).map((e=>({language:s,label:e})))})).reduce(((e,t)=>e.concat(t)),[]).filter((e=>"-"!=e.language)).sort(((s,i)=>s.language===u.exports.languagePreference.selectLanguage(e[t])&&i.language!==u.exports.languagePreference.selectLanguage(e[t])?-1:i.language===u.exports.languagePreference.selectLanguage(e[t])&&s.language!==u.exports.languagePreference.selectLanguage(e[t])?1:0)),licenseBadges:{"http://creativecommons.org/publicdomain/zero/1.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/cc-zero.svg","http://creativecommons.org/licenses/by/3.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by.svg","http://creativecommons.org/licenses/by-nc-nd/3.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by-nc-nd.svg","http://creativecommons.org/licenses/by-nc-nd/4.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by-nc-nd.svg","http://creativecommons.org/licenses/by-nc-sa/4.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by-nc-sa.svg","http://creativecommons.org/licenses/by-sa/4.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by-sa.svg","http://opendatacommons.org/licenses/odbl/1.0/":"https://img.shields.io/badge/License-ODbL-lightgrey.svg","http://www.wtfpl.net/":"https://img.shields.io/badge/License-WTFPL-lightgrey.svg"},licenseAttribution:g,types:c,draggedItem:S},d),t(f,s({isDraggedConceptDifferent:p}));var f}}),T={class:"jskos-vue-itemDetails-name"},E={key:0},q={key:1},F={class:"jskos-vue-itemDetails-list"},K={key:0,class:"jskos-vue-text-lightGrey"},G={class:"jskos-vue-itemDetails-list"},R={key:0},U={key:1},V={key:0,class:"jskos-vue-itemDetails-list"},W={class:"jskos-vue-itemDetails-list"},Z={key:0,class:"jskos-vue-itemDetails-list"},H={class:"jskos-vue-itemDetails-list"},J={class:"jskos-vue-itemDetails-list"};B.render=function(e,t,s,i,a,l){const n=p("item-name"),o=p("auto-link"),r=p("item-list"),g=p("tab"),c=p("tabs");return d(),f("div",{class:"jskos-vue-itemDetails",onDragover:t[4]||(t[4]=(...t)=>e.dragover&&e.dragover(...t)),onDragenter:t[5]||(t[5]=(...t)=>e.dragenter&&e.dragenter(...t)),onDragleave:t[6]||(t[6]=(...t)=>e.dragleave&&e.dragleave(...t)),onDrop:t[7]||(t[7]=(...t)=>e.drop&&e.drop(...t))},[b(" Define a dropzone which is shown only when a concept is being dragged over the component "),v(y("div",{class:"jskos-vue-itemDetails-dropzone jskos-vue-text-small"},k(e.t("dropzone")),513),[[h,e.isDraggingOver&&e.isDraggedConceptDifferent]]),y("div",T,[j(e.$slots,"beforeName"),y(n,{item:e.item},null,8,["item"]),j(e.$slots,"afterName")]),b(" License "),e.item.license&&e.item.license.length?(d(),f("div",E,[L(k(e.t("license"))+":",1),(d(!0),f(D,null,w(e.item.license,((t,s)=>(d(),f(o,{key:s,href:t.uri,class:"jskos-vue-itemDetails-licenseBadge"},{default:O((()=>[e.licenseBadges[t.uri]?(d(),f("img",{key:0,src:e.licenseBadges[t.uri]},null,8,["src"])):(d(),f("span",q,k(t.uri),1))])),_:2},1032,["href"])))),128))])):b("v-if",!0),b(" Ancestors "),b(" TODO: Only show part of ancestors? "),y(r,$(e.itemListOptions,{items:e.item.ancestors||[],class:"jskos-vue-itemDetails-ancestors",onSelect:t[1]||(t[1]=t=>e.$emit("select",{item:t.item}))}),null,16,["items"]),b(" Broader "),y(r,$(e.itemListOptions,{items:(e.item.broader||[]).filter((t=>!e.jskos.isContainedIn(t,e.item.ancestors||[]))),class:"jskos-vue-itemDetails-broader",onSelect:t[2]||(t[2]=t=>e.$emit("select",{item:t.item}))}),null,16,["items"]),y(c,{borders:"bottom",size:"sm",class:"jskos-vue-itemDetails-tabs"},{default:O((()=>[y(g,{title:e.t("info")},{default:O((()=>[b(" Identifier "),y("ul",F,[(d(!0),f(D,null,w([e.item.uri].concat(e.item.identifier).filter((e=>null!=e)),((t,s)=>(d(),f("li",{key:s},[y(o,{href:t},null,8,["href"]),t===e.item.uri?(d(),f("span",K," (URI)")):b("v-if",!0)])))),128))]),y("ul",G,[e.types.length?(d(),f("li",R,[y("b",null,k(e.t("type"))+":",1),L(" "+k(e.types.map((t=>e.jskos.prefLabel(t))).join(", ")),1)])):b("v-if",!0),(d(),f(D,null,w(["created","issued","modified"],(t=>(d(),f(D,null,[e.item[t]?(d(),f("li",{key:t},[y("b",null,k(e.t(t))+":",1),L(" "+k(e.utils.dateToString(e.item[t])),1)])):b("v-if",!0)],64)))),64)),e.item.languages?(d(),f("li",U,[y("b",null,k(e.t("languages"))+":",1),L(" "+k(e.item.languages.join(", ")),1)])):b("v-if",!0),b(" TODO: Publisher ")]),e.jskos.languageMapContent(e.item,"definition")?(d(),f("ul",V,[y("li",null,[y("b",null,k(e.t("definition"))+":",1)]),(d(!0),f(D,null,w(e.iterateLanguageMapContent(e.item,"definition"),(({language:e,label:t},s)=>(d(),f("li",{key:`${e}-${s}`,lang:`${e}`},k(t),9,["lang"])))),128))])):b("v-if",!0)])),_:1},8,["title"]),y(g,{title:e.t("labels")},{default:O((()=>[b(" prefLabel "),y("ul",W,[(d(!0),f(D,null,w(e.iterateLanguageMapContent(e.item,"prefLabel"),(({language:e,label:t},s)=>(d(),f("li",{key:`${e}-${s}`,lang:`${e}`},k(t),9,["lang"])))),128))]),b(" altLabel "),e.jskos.languageMapContent(e.item,"altLabel")?(d(),f("ul",Z,[y("li",null,[y("b",null,k(e.t("altLabels"))+":",1)]),(d(!0),f(D,null,w(e.iterateLanguageMapContent(e.item,"altLabel"),(({language:e,label:t},s)=>(d(),f("li",{key:`${e}-${s}`,lang:`${e}`},k(t),9,["lang"])))),128))])):b("v-if",!0)])),_:1},8,["title"]),b(" scopeNote "),e.jskos.languageMapContent(e.item,"scopeNote")?(d(),f(g,{key:0,title:e.t("scope")},{default:O((()=>[y("ul",H,[(d(!0),f(D,null,w(e.iterateLanguageMapContent(e.item,"scopeNote"),(({language:e,label:t},s)=>(d(),f("li",{key:`${e}-${s}`,lang:`${e}`},k(t),9,["lang"])))),128))])])),_:1},8,["title"])):b("v-if",!0),b(" editorialNote "),e.jskos.languageMapContent(e.item,"editorialNote")?(d(),f(g,{key:1,title:e.t("editorial")},{default:O((()=>[y("ul",J,[(d(!0),f(D,null,w(e.iterateLanguageMapContent(e.item,"editorialNote"),(({language:e,label:t},s)=>(d(),f("li",{key:`${e}-${s}`,lang:`${e}`},k(t),9,["lang"])))),128))])])),_:1},8,["title"])):b("v-if",!0),b(" Slot for additional tabs "),j(e.$slots,"tabs")])),_:3}),b(" Narrower "),y(r,$(e.itemListOptions,{items:e.item.narrower||[],class:"jskos-vue-itemDetails-narrower",onSelect:t[3]||(t[3]=t=>e.$emit("select",{item:t.item}))}),null,16,["items"])],32)};export{B as _};
