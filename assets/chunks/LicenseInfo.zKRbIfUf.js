import{j as u,p as a,n as g}from"./jskos-tools.BngNuJFy.js";import{A as b}from"./AutoLink.DdFLTQbv.js";import{_ as v,d,h as f,D as h,o as n,c as i,F as k,E as y,b as _,w as L,t as $}from"./framework.CXbGQEsj.js";const I=d({name:"LicenseInfo",components:{AutoLink:b},props:{item:{type:Object,required:!0},shieldsIoOptIn:{type:Boolean,default:!1}},setup(s){const c={"http://creativecommons.org/publicdomain/zero/1.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/cc-zero.svg","https://creativecommons.org/publicdomain/mark/1.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/cc-zero.svg","http://creativecommons.org/licenses/by/3.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by.svg","http://creativecommons.org/licenses/by-nc-nd/3.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by-nc-nd.svg","http://creativecommons.org/licenses/by-nc-nd/4.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by-nc-nd.svg","http://creativecommons.org/licenses/by-nc-sa/4.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by-nc-sa.svg","http://creativecommons.org/licenses/by-sa/4.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by-sa.svg"},m=t=>{var e;if(c[t.uri])return c[t.uri];const o=((e=t.notation)==null?void 0:e[0])||a(t,{fallbackToUri:!1});return s.shieldsIoOptIn&&o?`https://img.shields.io/badge/${encodeURIComponent(o).replaceAll("_","__").replaceAll("-","--")}-000000?style=flat-square`:null},l=t=>{const o=a(t,{fallbackToUri:!1});let e=g(t);o&&e&&(e=` (${e})`);let r=o+e;return r||(r=t.uri),r};return{licenseAttribution:f(()=>{var e;const t=(s.item.publisher||[]).find(r=>r.url)??((e=s.item.publisher)==null?void 0:e[0]);return{url:(t==null?void 0:t.url)??s.item.url,label:a(t)||"?"}}),getLicenseBadge:m,getLicenseName:l,jskos:u}}}),B={class:"jskos-vue-itemDetails-licenseInfo"},A=["src"],x={key:1};function j(s,c,m,l,p,t){const o=h("auto-link");return n(),i("div",B,[(n(!0),i(k,null,y(s.item.license||[],(e,r)=>(n(),_(o,{key:r,href:e.uri,title:`${s.getLicenseName(e)} by ${s.licenseAttribution.label}`,class:"jskos-vue-itemDetails-licenseInfo-badge"},{default:L(()=>[s.getLicenseBadge(e)?(n(),i("img",{key:0,src:s.getLicenseBadge(e)},null,8,A)):(n(),i("span",x,$(s.getLicenseName(e)),1))]),_:2},1032,["href","title"]))),128))])}const N=v(I,[["render",j]]);export{N as L};
