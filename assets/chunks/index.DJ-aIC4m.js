import{i as O}from"./jskos-tools.BngNuJFy.js";import{g as I,c as de}from"./vue-scrollto.FOkUA__D.js";class j extends Error{constructor({message:t="",relatedError:r=null,code:n=null}={}){!t&&r&&r.message&&(t=r.message),super(t),this.name=this.constructor.name,this.relatedError=r,this.code=n}}class es extends j{constructor({method:t,message:r="",...n}){n.message=`Method not implemented: ${t} (${r})`,super(n)}}class v extends j{constructor({parameter:t,message:r="",...n}){n.message=`Invalid or missing parameter: ${t} (${r})`,super(n)}}class ts extends j{}class rs extends j{}class ns extends j{}class ss extends j{}class H extends j{}class Ht extends j{}function Jr(e,t){return function(){return e.apply(t,arguments)}}const{toString:as}=Object.prototype,{getPrototypeOf:gt}=Object,Ce=(e=>t=>{const r=as.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),N=e=>(e=e.toLowerCase(),t=>Ce(t)===e),Pe=e=>t=>typeof t===e,{isArray:Z}=Array,ce=Pe("undefined");function is(e){return e!==null&&!ce(e)&&e.constructor!==null&&!ce(e.constructor)&&x(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Vr=N("ArrayBuffer");function os(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Vr(e.buffer),t}const cs=Pe("string"),x=Pe("function"),Xr=Pe("number"),xe=e=>e!==null&&typeof e=="object",us=e=>e===!0||e===!1,ye=e=>{if(Ce(e)!=="object")return!1;const t=gt(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ls=N("Date"),fs=N("File"),hs=N("Blob"),ps=N("FileList"),ds=e=>xe(e)&&x(e.pipe),gs=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||x(e.append)&&((t=Ce(e))==="formdata"||t==="object"&&x(e.toString)&&e.toString()==="[object FormData]"))},ys=N("URLSearchParams"),[ms,_s,bs,vs]=["ReadableStream","Request","Response","Headers"].map(N),ws=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function le(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),Z(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{const a=r?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let o;for(n=0;n<i;n++)o=a[n],t.call(null,e[o],o,e)}}function Yr(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const Zr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Qr=e=>!ce(e)&&e!==Zr;function rt(){const{caseless:e}=Qr(this)&&this||{},t={},r=(n,s)=>{const a=e&&Yr(t,s)||s;ye(t[a])&&ye(n)?t[a]=rt(t[a],n):ye(n)?t[a]=rt({},n):Z(n)?t[a]=n.slice():t[a]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&le(arguments[n],r);return t}const $s=(e,t,r,{allOwnKeys:n}={})=>(le(t,(s,a)=>{r&&x(s)?e[a]=Jr(s,r):e[a]=s},{allOwnKeys:n}),e),As=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Ss=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Ts=(e,t,r,n)=>{let s,a,i;const o={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)i=s[a],(!n||n(i,e,t))&&!o[i]&&(t[i]=e[i],o[i]=!0);e=r!==!1&&gt(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Os=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},Es=e=>{if(!e)return null;if(Z(e))return e;let t=e.length;if(!Xr(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Cs=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&gt(Uint8Array)),Ps=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=n.next())&&!s.done;){const a=s.value;t.call(e,a[0],a[1])}},xs=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Rs=N("HTMLFormElement"),js=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),Gt=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Is=N("RegExp"),en=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};le(r,(s,a)=>{let i;(i=t(s,a,e))!==!1&&(n[a]=i||s)}),Object.defineProperties(e,n)},Ns=e=>{en(e,(t,r)=>{if(x(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(x(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Ls=(e,t)=>{const r={},n=s=>{s.forEach(a=>{r[a]=!0})};return Z(e)?n(e):n(String(e).split(t)),r},Fs=()=>{},Us=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,Ge="abcdefghijklmnopqrstuvwxyz",Kt="0123456789",tn={DIGIT:Kt,ALPHA:Ge,ALPHA_DIGIT:Ge+Ge.toUpperCase()+Kt},Ms=(e=16,t=tn.ALPHA_DIGIT)=>{let r="";const{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r};function Ds(e){return!!(e&&x(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Bs=e=>{const t=new Array(10),r=(n,s)=>{if(xe(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[s]=n;const a=Z(n)?[]:{};return le(n,(i,o)=>{const c=r(i,s+1);!ce(c)&&(a[o]=c)}),t[s]=void 0,a}}return n};return r(e,0)},ks=N("AsyncFunction"),qs=e=>e&&(xe(e)||x(e))&&x(e.then)&&x(e.catch),f={isArray:Z,isArrayBuffer:Vr,isBuffer:is,isFormData:gs,isArrayBufferView:os,isString:cs,isNumber:Xr,isBoolean:us,isObject:xe,isPlainObject:ye,isReadableStream:ms,isRequest:_s,isResponse:bs,isHeaders:vs,isUndefined:ce,isDate:ls,isFile:fs,isBlob:hs,isRegExp:Is,isFunction:x,isStream:ds,isURLSearchParams:ys,isTypedArray:Cs,isFileList:ps,forEach:le,merge:rt,extend:$s,trim:ws,stripBOM:As,inherits:Ss,toFlatObject:Ts,kindOf:Ce,kindOfTest:N,endsWith:Os,toArray:Es,forEachEntry:Ps,matchAll:xs,isHTMLForm:Rs,hasOwnProperty:Gt,hasOwnProp:Gt,reduceDescriptors:en,freezeMethods:Ns,toObjectSet:Ls,toCamelCase:js,noop:Fs,toFiniteNumber:Us,findKey:Yr,global:Zr,isContextDefined:Qr,ALPHABET:tn,generateString:Ms,isSpecCompliantForm:Ds,toJSONObject:Bs,isAsyncFn:ks,isThenable:qs};function m(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s)}f.inherits(m,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:f.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const rn=m.prototype,nn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{nn[e]={value:e}});Object.defineProperties(m,nn);Object.defineProperty(rn,"isAxiosError",{value:!0});m.from=(e,t,r,n,s,a)=>{const i=Object.create(rn);return f.toFlatObject(e,i,function(c){return c!==Error.prototype},o=>o!=="isAxiosError"),m.call(i,e.message,t,r,n,s),i.cause=e,i.name=e.name,a&&Object.assign(i,a),i};const Hs=null;function nt(e){return f.isPlainObject(e)||f.isArray(e)}function sn(e){return f.endsWith(e,"[]")?e.slice(0,-2):e}function zt(e,t,r){return e?e.concat(t).map(function(s,a){return s=sn(s),!r&&a?"["+s+"]":s}).join(r?".":""):t}function Gs(e){return f.isArray(e)&&!e.some(nt)}const Ks=f.toFlatObject(f,{},null,function(t){return/^is[A-Z]/.test(t)});function Re(e,t,r){if(!f.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=f.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,_){return!f.isUndefined(_[y])});const n=r.metaTokens,s=r.visitor||u,a=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&f.isSpecCompliantForm(t);if(!f.isFunction(s))throw new TypeError("visitor must be a function");function l(d){if(d===null)return"";if(f.isDate(d))return d.toISOString();if(!c&&f.isBlob(d))throw new m("Blob is not supported. Use a Buffer instead.");return f.isArrayBuffer(d)||f.isTypedArray(d)?c&&typeof Blob=="function"?new Blob([d]):Buffer.from(d):d}function u(d,y,_){let b=d;if(d&&!_&&typeof d=="object"){if(f.endsWith(y,"{}"))y=n?y:y.slice(0,-2),d=JSON.stringify(d);else if(f.isArray(d)&&Gs(d)||(f.isFileList(d)||f.endsWith(y,"[]"))&&(b=f.toArray(d)))return y=sn(y),b.forEach(function($,w){!(f.isUndefined($)||$===null)&&t.append(i===!0?zt([y],w,a):i===null?y:y+"[]",l($))}),!1}return nt(d)?!0:(t.append(zt(_,y,a),l(d)),!1)}const h=[],p=Object.assign(Ks,{defaultVisitor:u,convertValue:l,isVisitable:nt});function g(d,y){if(!f.isUndefined(d)){if(h.indexOf(d)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(d),f.forEach(d,function(b,C){(!(f.isUndefined(b)||b===null)&&s.call(t,b,f.isString(C)?C.trim():C,y,p))===!0&&g(b,y?y.concat(C):[C])}),h.pop()}}if(!f.isObject(e))throw new TypeError("data must be an object");return g(e),t}function Wt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function yt(e,t){this._pairs=[],e&&Re(e,this,t)}const an=yt.prototype;an.append=function(t,r){this._pairs.push([t,r])};an.toString=function(t){const r=t?function(n){return t.call(this,n,Wt)}:Wt;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function zs(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function on(e,t,r){if(!t)return e;const n=r&&r.encode||zs,s=r&&r.serialize;let a;if(s?a=s(t,r):a=f.isURLSearchParams(t)?t.toString():new yt(t,r).toString(n),a){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Jt{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){f.forEach(this.handlers,function(n){n!==null&&t(n)})}}const cn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ws=typeof URLSearchParams<"u"?URLSearchParams:yt,Js=typeof FormData<"u"?FormData:null,Vs=typeof Blob<"u"?Blob:null,Xs={isBrowser:!0,classes:{URLSearchParams:Ws,FormData:Js,Blob:Vs},protocols:["http","https","file","blob","url","data"]},mt=typeof window<"u"&&typeof document<"u",Ys=(e=>mt&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),Zs=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Qs=mt&&window.location.href||"http://localhost",ea=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mt,hasStandardBrowserEnv:Ys,hasStandardBrowserWebWorkerEnv:Zs,origin:Qs},Symbol.toStringTag,{value:"Module"})),R={...ea,...Xs};function ta(e,t){return Re(e,new R.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,a){return R.isNode&&f.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function ra(e){return f.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function na(e){const t={},r=Object.keys(e);let n;const s=r.length;let a;for(n=0;n<s;n++)a=r[n],t[a]=e[a];return t}function un(e){function t(r,n,s,a){let i=r[a++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),c=a>=r.length;return i=!i&&f.isArray(s)?s.length:i,c?(f.hasOwnProp(s,i)?s[i]=[s[i],n]:s[i]=n,!o):((!s[i]||!f.isObject(s[i]))&&(s[i]=[]),t(r,n,s[i],a)&&f.isArray(s[i])&&(s[i]=na(s[i])),!o)}if(f.isFormData(e)&&f.isFunction(e.entries)){const r={};return f.forEachEntry(e,(n,s)=>{t(ra(n),s,r,0)}),r}return null}function sa(e,t,r){if(f.isString(e))try{return(t||JSON.parse)(e),f.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const fe={transitional:cn,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,a=f.isObject(t);if(a&&f.isHTMLForm(t)&&(t=new FormData(t)),f.isFormData(t))return s?JSON.stringify(un(t)):t;if(f.isArrayBuffer(t)||f.isBuffer(t)||f.isStream(t)||f.isFile(t)||f.isBlob(t)||f.isReadableStream(t))return t;if(f.isArrayBufferView(t))return t.buffer;if(f.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return ta(t,this.formSerializer).toString();if((o=f.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Re(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||s?(r.setContentType("application/json",!1),sa(t)):t}],transformResponse:[function(t){const r=this.transitional||fe.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(f.isResponse(t)||f.isReadableStream(t))return t;if(t&&f.isString(t)&&(n&&!this.responseType||s)){const i=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(o){if(i)throw o.name==="SyntaxError"?m.from(o,m.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:R.classes.FormData,Blob:R.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};f.forEach(["delete","get","head","post","put","patch"],e=>{fe.headers[e]={}});const aa=f.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ia=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(i){s=i.indexOf(":"),r=i.substring(0,s).trim().toLowerCase(),n=i.substring(s+1).trim(),!(!r||t[r]&&aa[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Vt=Symbol("internals");function ie(e){return e&&String(e).trim().toLowerCase()}function me(e){return e===!1||e==null?e:f.isArray(e)?e.map(me):String(e)}function oa(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const ca=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ke(e,t,r,n,s){if(f.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!f.isString(t)){if(f.isString(n))return t.indexOf(n)!==-1;if(f.isRegExp(n))return n.test(t)}}function ua(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function la(e,t){const r=f.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,a,i){return this[n].call(this,t,s,a,i)},configurable:!0})})}class P{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function a(o,c,l){const u=ie(c);if(!u)throw new Error("header name must be a non-empty string");const h=f.findKey(s,u);(!h||s[h]===void 0||l===!0||l===void 0&&s[h]!==!1)&&(s[h||c]=me(o))}const i=(o,c)=>f.forEach(o,(l,u)=>a(l,u,c));if(f.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(f.isString(t)&&(t=t.trim())&&!ca(t))i(ia(t),r);else if(f.isHeaders(t))for(const[o,c]of t.entries())a(c,o,n);else t!=null&&a(r,t,n);return this}get(t,r){if(t=ie(t),t){const n=f.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return oa(s);if(f.isFunction(r))return r.call(this,s,n);if(f.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=ie(t),t){const n=f.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Ke(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function a(i){if(i=ie(i),i){const o=f.findKey(n,i);o&&(!r||Ke(n,n[o],o,r))&&(delete n[o],s=!0)}}return f.isArray(t)?t.forEach(a):a(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const a=r[n];(!t||Ke(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){const r=this,n={};return f.forEach(this,(s,a)=>{const i=f.findKey(n,a);if(i){r[i]=me(s),delete r[a];return}const o=t?ua(a):String(a).trim();o!==a&&delete r[a],r[o]=me(s),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return f.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&f.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[Vt]=this[Vt]={accessors:{}}).accessors,s=this.prototype;function a(i){const o=ie(i);n[o]||(la(s,i),n[o]=!0)}return f.isArray(t)?t.forEach(a):a(t),this}}P.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);f.reduceDescriptors(P.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});f.freezeMethods(P);function ze(e,t){const r=this||fe,n=t||r,s=P.from(n.headers);let a=n.data;return f.forEach(e,function(o){a=o.call(r,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function ln(e){return!!(e&&e.__CANCEL__)}function Q(e,t,r){m.call(this,e??"canceled",m.ERR_CANCELED,t,r),this.name="CanceledError"}f.inherits(Q,m,{__CANCEL__:!0});function fn(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new m("Request failed with status code "+r.status,[m.ERR_BAD_REQUEST,m.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function fa(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function ha(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,a=0,i;return t=t!==void 0?t:1e3,function(c){const l=Date.now(),u=n[a];i||(i=l),r[s]=c,n[s]=l;let h=a,p=0;for(;h!==s;)p+=r[h++],h=h%e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),l-i<t)return;const g=u&&l-u;return g?Math.round(p*1e3/g):void 0}}function pa(e,t){let r=0;const n=1e3/t;let s=null;return function(){const i=this===!0,o=Date.now();if(i||o-r>n)return s&&(clearTimeout(s),s=null),r=o,e.apply(null,arguments);s||(s=setTimeout(()=>(s=null,r=Date.now(),e.apply(null,arguments)),n-(o-r)))}}const ve=(e,t,r=3)=>{let n=0;const s=ha(50,250);return pa(a=>{const i=a.loaded,o=a.lengthComputable?a.total:void 0,c=i-n,l=s(c),u=i<=o;n=i;const h={loaded:i,total:o,progress:o?i/o:void 0,bytes:c,rate:l||void 0,estimated:l&&o&&u?(o-i)/l:void 0,event:a,lengthComputable:o!=null};h[t?"download":"upload"]=!0,e(h)},r)},da=R.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function s(a){let i=a;return t&&(r.setAttribute("href",i),i=r.href),r.setAttribute("href",i),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=s(window.location.href),function(i){const o=f.isString(i)?s(i):i;return o.protocol===n.protocol&&o.host===n.host}}():function(){return function(){return!0}}(),ga=R.hasStandardBrowserEnv?{write(e,t,r,n,s,a){const i=[e+"="+encodeURIComponent(t)];f.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),f.isString(n)&&i.push("path="+n),f.isString(s)&&i.push("domain="+s),a===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ya(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function ma(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function hn(e,t){return e&&!ya(t)?ma(e,t):t}const Xt=e=>e instanceof P?{...e}:e;function W(e,t){t=t||{};const r={};function n(l,u,h){return f.isPlainObject(l)&&f.isPlainObject(u)?f.merge.call({caseless:h},l,u):f.isPlainObject(u)?f.merge({},u):f.isArray(u)?u.slice():u}function s(l,u,h){if(f.isUndefined(u)){if(!f.isUndefined(l))return n(void 0,l,h)}else return n(l,u,h)}function a(l,u){if(!f.isUndefined(u))return n(void 0,u)}function i(l,u){if(f.isUndefined(u)){if(!f.isUndefined(l))return n(void 0,l)}else return n(void 0,u)}function o(l,u,h){if(h in t)return n(l,u);if(h in e)return n(void 0,l)}const c={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(l,u)=>s(Xt(l),Xt(u),!0)};return f.forEach(Object.keys(Object.assign({},e,t)),function(u){const h=c[u]||s,p=h(e[u],t[u],u);f.isUndefined(p)&&h!==o||(r[u]=p)}),r}const pn=e=>{const t=W({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:a,headers:i,auth:o}=t;t.headers=i=P.from(i),t.url=on(hn(t.baseURL,t.url),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let c;if(f.isFormData(r)){if(R.hasStandardBrowserEnv||R.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[l,...u]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];i.setContentType([l||"multipart/form-data",...u].join("; "))}}if(R.hasStandardBrowserEnv&&(n&&f.isFunction(n)&&(n=n(t)),n||n!==!1&&da(t.url))){const l=s&&a&&ga.read(a);l&&i.set(s,l)}return t},_a=typeof XMLHttpRequest<"u",ba=_a&&function(e){return new Promise(function(r,n){const s=pn(e);let a=s.data;const i=P.from(s.headers).normalize();let{responseType:o}=s,c;function l(){s.cancelToken&&s.cancelToken.unsubscribe(c),s.signal&&s.signal.removeEventListener("abort",c)}let u=new XMLHttpRequest;u.open(s.method.toUpperCase(),s.url,!0),u.timeout=s.timeout;function h(){if(!u)return;const g=P.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),y={data:!o||o==="text"||o==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:g,config:e,request:u};fn(function(b){r(b),l()},function(b){n(b),l()},y),u=null}"onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(h)},u.onabort=function(){u&&(n(new m("Request aborted",m.ECONNABORTED,s,u)),u=null)},u.onerror=function(){n(new m("Network Error",m.ERR_NETWORK,s,u)),u=null},u.ontimeout=function(){let d=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const y=s.transitional||cn;s.timeoutErrorMessage&&(d=s.timeoutErrorMessage),n(new m(d,y.clarifyTimeoutError?m.ETIMEDOUT:m.ECONNABORTED,s,u)),u=null},a===void 0&&i.setContentType(null),"setRequestHeader"in u&&f.forEach(i.toJSON(),function(d,y){u.setRequestHeader(y,d)}),f.isUndefined(s.withCredentials)||(u.withCredentials=!!s.withCredentials),o&&o!=="json"&&(u.responseType=s.responseType),typeof s.onDownloadProgress=="function"&&u.addEventListener("progress",ve(s.onDownloadProgress,!0)),typeof s.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",ve(s.onUploadProgress)),(s.cancelToken||s.signal)&&(c=g=>{u&&(n(!g||g.type?new Q(null,e,u):g),u.abort(),u=null)},s.cancelToken&&s.cancelToken.subscribe(c),s.signal&&(s.signal.aborted?c():s.signal.addEventListener("abort",c)));const p=fa(s.url);if(p&&R.protocols.indexOf(p)===-1){n(new m("Unsupported protocol "+p+":",m.ERR_BAD_REQUEST,e));return}u.send(a||null)})},va=(e,t)=>{let r=new AbortController,n;const s=function(c){if(!n){n=!0,i();const l=c instanceof Error?c:this.reason;r.abort(l instanceof m?l:new Q(l instanceof Error?l.message:l))}};let a=t&&setTimeout(()=>{s(new m(`timeout ${t} of ms exceeded`,m.ETIMEDOUT))},t);const i=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(c=>{c&&(c.removeEventListener?c.removeEventListener("abort",s):c.unsubscribe(s))}),e=null)};e.forEach(c=>c&&c.addEventListener&&c.addEventListener("abort",s));const{signal:o}=r;return o.unsubscribe=i,[o,()=>{a&&clearTimeout(a),a=null}]},wa=function*(e,t){let r=e.byteLength;if(!t||r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},$a=async function*(e,t,r){for await(const n of e)yield*wa(ArrayBuffer.isView(n)?n:await r(String(n)),t)},Yt=(e,t,r,n,s)=>{const a=$a(e,t,s);let i=0;return new ReadableStream({type:"bytes",async pull(o){const{done:c,value:l}=await a.next();if(c){o.close(),n();return}let u=l.byteLength;r&&r(i+=u),o.enqueue(new Uint8Array(l))},cancel(o){return n(o),a.return()}},{highWaterMark:2})},Zt=(e,t)=>{const r=e!=null;return n=>setTimeout(()=>t({lengthComputable:r,total:e,loaded:n}))},je=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",dn=je&&typeof ReadableStream=="function",st=je&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Aa=dn&&(()=>{let e=!1;const t=new Request(R.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})(),Qt=64*1024,at=dn&&!!(()=>{try{return f.isReadableStream(new Response("").body)}catch{}})(),we={stream:at&&(e=>e.body)};je&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!we[t]&&(we[t]=f.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new m(`Response type '${t}' is not supported`,m.ERR_NOT_SUPPORT,n)})})})(new Response);const Sa=async e=>{if(e==null)return 0;if(f.isBlob(e))return e.size;if(f.isSpecCompliantForm(e))return(await new Request(e).arrayBuffer()).byteLength;if(f.isArrayBufferView(e))return e.byteLength;if(f.isURLSearchParams(e)&&(e=e+""),f.isString(e))return(await st(e)).byteLength},Ta=async(e,t)=>{const r=f.toFiniteNumber(e.getContentLength());return r??Sa(t)},Oa=je&&(async e=>{let{url:t,method:r,data:n,signal:s,cancelToken:a,timeout:i,onDownloadProgress:o,onUploadProgress:c,responseType:l,headers:u,withCredentials:h="same-origin",fetchOptions:p}=pn(e);l=l?(l+"").toLowerCase():"text";let[g,d]=s||a||i?va([s,a],i):[],y,_;const b=()=>{!y&&setTimeout(()=>{g&&g.unsubscribe()}),y=!0};let C;try{if(c&&Aa&&r!=="get"&&r!=="head"&&(C=await Ta(u,n))!==0){let B=new Request(t,{method:"POST",body:n,duplex:"half"}),Y;f.isFormData(n)&&(Y=B.headers.get("content-type"))&&u.setContentType(Y),B.body&&(n=Yt(B.body,Qt,Zt(C,ve(c)),null,st))}f.isString(h)||(h=h?"cors":"omit"),_=new Request(t,{...p,signal:g,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",withCredentials:h});let $=await fetch(_);const w=at&&(l==="stream"||l==="response");if(at&&(o||w)){const B={};["status","statusText","headers"].forEach(qt=>{B[qt]=$[qt]});const Y=f.toFiniteNumber($.headers.get("content-length"));$=new Response(Yt($.body,Qt,o&&Zt(Y,ve(o,!0)),w&&b,st),B)}l=l||"text";let D=await we[f.findKey(we,l)||"text"]($,e);return!w&&b(),d&&d(),await new Promise((B,Y)=>{fn(B,Y,{data:D,headers:P.from($.headers),status:$.status,statusText:$.statusText,config:e,request:_})})}catch($){throw b(),$&&$.name==="TypeError"&&/fetch/i.test($.message)?Object.assign(new m("Network Error",m.ERR_NETWORK,e,_),{cause:$.cause||$}):m.from($,$&&$.code,e,_)}}),it={http:Hs,xhr:ba,fetch:Oa};f.forEach(it,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const er=e=>`- ${e}`,Ea=e=>f.isFunction(e)||e===null||e===!1,gn={getAdapter:e=>{e=f.isArray(e)?e:[e];const{length:t}=e;let r,n;const s={};for(let a=0;a<t;a++){r=e[a];let i;if(n=r,!Ea(r)&&(n=it[(i=String(r)).toLowerCase()],n===void 0))throw new m(`Unknown adapter '${i}'`);if(n)break;s[i||"#"+a]=n}if(!n){const a=Object.entries(s).map(([o,c])=>`adapter ${o} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=t?a.length>1?`since :
`+a.map(er).join(`
`):" "+er(a[0]):"as no adapter specified";throw new m("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:it};function We(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Q(null,e)}function tr(e){return We(e),e.headers=P.from(e.headers),e.data=ze.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),gn.getAdapter(e.adapter||fe.adapter)(e).then(function(n){return We(e),n.data=ze.call(e,e.transformResponse,n),n.headers=P.from(n.headers),n},function(n){return ln(n)||(We(e),n&&n.response&&(n.response.data=ze.call(e,e.transformResponse,n.response),n.response.headers=P.from(n.response.headers))),Promise.reject(n)})}const yn="1.7.2",_t={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{_t[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const rr={};_t.transitional=function(t,r,n){function s(a,i){return"[Axios v"+yn+"] Transitional option '"+a+"'"+i+(n?". "+n:"")}return(a,i,o)=>{if(t===!1)throw new m(s(i," has been removed"+(r?" in "+r:"")),m.ERR_DEPRECATED);return r&&!rr[i]&&(rr[i]=!0,console.warn(s(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,i,o):!0}};function Ca(e,t,r){if(typeof e!="object")throw new m("options must be an object",m.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const a=n[s],i=t[a];if(i){const o=e[a],c=o===void 0||i(o,a,e);if(c!==!0)throw new m("option "+a+" must be "+c,m.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new m("Unknown option "+a,m.ERR_BAD_OPTION)}}const ot={assertOptions:Ca,validators:_t},k=ot.validators;class z{constructor(t){this.defaults=t,this.interceptors={request:new Jt,response:new Jt}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=W(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:a}=r;n!==void 0&&ot.assertOptions(n,{silentJSONParsing:k.transitional(k.boolean),forcedJSONParsing:k.transitional(k.boolean),clarifyTimeoutError:k.transitional(k.boolean)},!1),s!=null&&(f.isFunction(s)?r.paramsSerializer={serialize:s}:ot.assertOptions(s,{encode:k.function,serialize:k.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=a&&f.merge(a.common,a[r.method]);a&&f.forEach(["delete","get","head","post","put","patch","common"],d=>{delete a[d]}),r.headers=P.concat(i,a);const o=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(c=c&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const l=[];this.interceptors.response.forEach(function(y){l.push(y.fulfilled,y.rejected)});let u,h=0,p;if(!c){const d=[tr.bind(this),void 0];for(d.unshift.apply(d,o),d.push.apply(d,l),p=d.length,u=Promise.resolve(r);h<p;)u=u.then(d[h++],d[h++]);return u}p=o.length;let g=r;for(h=0;h<p;){const d=o[h++],y=o[h++];try{g=d(g)}catch(_){y.call(this,_);break}}try{u=tr.call(this,g)}catch(d){return Promise.reject(d)}for(h=0,p=l.length;h<p;)u=u.then(l[h++],l[h++]);return u}getUri(t){t=W(this.defaults,t);const r=hn(t.baseURL,t.url);return on(r,t.params,t.paramsSerializer)}}f.forEach(["delete","get","head","options"],function(t){z.prototype[t]=function(r,n){return this.request(W(n||{},{method:t,url:r,data:(n||{}).data}))}});f.forEach(["post","put","patch"],function(t){function r(n){return function(a,i,o){return this.request(W(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}z.prototype[t]=r(),z.prototype[t+"Form"]=r(!0)});class bt{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(s=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](s);n._listeners=null}),this.promise.then=s=>{let a;const i=new Promise(o=>{n.subscribe(o),a=o}).then(s);return i.cancel=function(){n.unsubscribe(a)},i},t(function(a,i,o){n.reason||(n.reason=new Q(a,i,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}static source(){let t;return{token:new bt(function(s){t=s}),cancel:t}}}function Pa(e){return function(r){return e.apply(null,r)}}function xa(e){return f.isObject(e)&&e.isAxiosError===!0}const ct={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ct).forEach(([e,t])=>{ct[t]=e});function mn(e){const t=new z(e),r=Jr(z.prototype.request,t);return f.extend(r,z.prototype,t,{allOwnKeys:!0}),f.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return mn(W(e,s))},r}const E=mn(fe);E.Axios=z;E.CanceledError=Q;E.CancelToken=bt;E.isCancel=ln;E.VERSION=yn;E.toFormData=Re;E.AxiosError=m;E.Cancel=E.CanceledError;E.all=function(t){return Promise.all(t)};E.spread=Pa;E.isAxiosError=xa;E.mergeConfig=W;E.AxiosHeaders=P;E.formToJSON=e=>un(f.isHTMLForm(e)?new FormData(e):e);E.getAdapter=gn.getAdapter;E.HttpStatusCode=ct;E.default=E;var Ra=Array.isArray,L=Ra;const Je=I(L);var ja=typeof de=="object"&&de&&de.Object===Object&&de,_n=ja,Ia=_n,Na=typeof self=="object"&&self&&self.Object===Object&&self,La=Ia||Na||Function("return this")(),F=La,Fa=F,Ua=Fa.Symbol,ee=Ua,nr=ee,bn=Object.prototype,Ma=bn.hasOwnProperty,Da=bn.toString,oe=nr?nr.toStringTag:void 0;function Ba(e){var t=Ma.call(e,oe),r=e[oe];try{e[oe]=void 0;var n=!0}catch{}var s=Da.call(e);return n&&(t?e[oe]=r:delete e[oe]),s}var ka=Ba,qa=Object.prototype,Ha=qa.toString;function Ga(e){return Ha.call(e)}var Ka=Ga,sr=ee,za=ka,Wa=Ka,Ja="[object Null]",Va="[object Undefined]",ar=sr?sr.toStringTag:void 0;function Xa(e){return e==null?e===void 0?Va:Ja:ar&&ar in Object(e)?za(e):Wa(e)}var J=Xa;function Ya(e){return e!=null&&typeof e=="object"}var U=Ya,Za=J,Qa=U,ei="[object Symbol]";function ti(e){return typeof e=="symbol"||Qa(e)&&Za(e)==ei}var vt=ti,ri=L,ni=vt,si=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ai=/^\w*$/;function ii(e,t){if(ri(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||ni(e)?!0:ai.test(e)||!si.test(e)||t!=null&&e in Object(t)}var oi=ii;function ci(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var V=ci;const Ve=I(V);var ui=J,li=V,fi="[object AsyncFunction]",hi="[object Function]",pi="[object GeneratorFunction]",di="[object Proxy]";function gi(e){if(!li(e))return!1;var t=ui(e);return t==hi||t==pi||t==fi||t==di}var vn=gi,yi=F,mi=yi["__core-js_shared__"],_i=mi,Xe=_i,ir=function(){var e=/[^.]+$/.exec(Xe&&Xe.keys&&Xe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function bi(e){return!!ir&&ir in e}var vi=bi,wi=Function.prototype,$i=wi.toString;function Ai(e){if(e!=null){try{return $i.call(e)}catch{}try{return e+""}catch{}}return""}var wn=Ai,Si=vn,Ti=vi,Oi=V,Ei=wn,Ci=/[\\^$.*+?()[\]{}|]/g,Pi=/^\[object .+?Constructor\]$/,xi=Function.prototype,Ri=Object.prototype,ji=xi.toString,Ii=Ri.hasOwnProperty,Ni=RegExp("^"+ji.call(Ii).replace(Ci,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Li(e){if(!Oi(e)||Ti(e))return!1;var t=Si(e)?Ni:Pi;return t.test(Ei(e))}var Fi=Li;function Ui(e,t){return e==null?void 0:e[t]}var Mi=Ui,Di=Fi,Bi=Mi;function ki(e,t){var r=Bi(e,t);return Di(r)?r:void 0}var X=ki,qi=X,Hi=qi(Object,"create"),Ie=Hi,or=Ie;function Gi(){this.__data__=or?or(null):{},this.size=0}var Ki=Gi;function zi(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Wi=zi,Ji=Ie,Vi="__lodash_hash_undefined__",Xi=Object.prototype,Yi=Xi.hasOwnProperty;function Zi(e){var t=this.__data__;if(Ji){var r=t[e];return r===Vi?void 0:r}return Yi.call(t,e)?t[e]:void 0}var Qi=Zi,eo=Ie,to=Object.prototype,ro=to.hasOwnProperty;function no(e){var t=this.__data__;return eo?t[e]!==void 0:ro.call(t,e)}var so=no,ao=Ie,io="__lodash_hash_undefined__";function oo(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ao&&t===void 0?io:t,this}var co=oo,uo=Ki,lo=Wi,fo=Qi,ho=so,po=co;function te(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}te.prototype.clear=uo;te.prototype.delete=lo;te.prototype.get=fo;te.prototype.has=ho;te.prototype.set=po;var go=te;function yo(){this.__data__=[],this.size=0}var mo=yo;function _o(e,t){return e===t||e!==e&&t!==t}var wt=_o,bo=wt;function vo(e,t){for(var r=e.length;r--;)if(bo(e[r][0],t))return r;return-1}var Ne=vo,wo=Ne,$o=Array.prototype,Ao=$o.splice;function So(e){var t=this.__data__,r=wo(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Ao.call(t,r,1),--this.size,!0}var To=So,Oo=Ne;function Eo(e){var t=this.__data__,r=Oo(t,e);return r<0?void 0:t[r][1]}var Co=Eo,Po=Ne;function xo(e){return Po(this.__data__,e)>-1}var Ro=xo,jo=Ne;function Io(e,t){var r=this.__data__,n=jo(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var No=Io,Lo=mo,Fo=To,Uo=Co,Mo=Ro,Do=No;function re(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}re.prototype.clear=Lo;re.prototype.delete=Fo;re.prototype.get=Uo;re.prototype.has=Mo;re.prototype.set=Do;var Le=re,Bo=X,ko=F,qo=Bo(ko,"Map"),$t=qo,cr=go,Ho=Le,Go=$t;function Ko(){this.size=0,this.__data__={hash:new cr,map:new(Go||Ho),string:new cr}}var zo=Ko;function Wo(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Jo=Wo,Vo=Jo;function Xo(e,t){var r=e.__data__;return Vo(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Fe=Xo,Yo=Fe;function Zo(e){var t=Yo(this,e).delete(e);return this.size-=t?1:0,t}var Qo=Zo,ec=Fe;function tc(e){return ec(this,e).get(e)}var rc=tc,nc=Fe;function sc(e){return nc(this,e).has(e)}var ac=sc,ic=Fe;function oc(e,t){var r=ic(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var cc=oc,uc=zo,lc=Qo,fc=rc,hc=ac,pc=cc;function ne(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ne.prototype.clear=uc;ne.prototype.delete=lc;ne.prototype.get=fc;ne.prototype.has=hc;ne.prototype.set=pc;var At=ne,$n=At,dc="Expected a function";function St(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(dc);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],a=r.cache;if(a.has(s))return a.get(s);var i=e.apply(this,n);return r.cache=a.set(s,i)||a,i};return r.cache=new(St.Cache||$n),r}St.Cache=$n;var gc=St,yc=gc,mc=500;function _c(e){var t=yc(e,function(n){return r.size===mc&&r.clear(),n}),r=t.cache;return t}var bc=_c,vc=bc,wc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$c=/\\(\\)?/g,Ac=vc(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(wc,function(r,n,s,a){t.push(s?a.replace($c,"$1"):n||r)}),t}),Sc=Ac;function Tc(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var Ue=Tc,ur=ee,Oc=Ue,Ec=L,Cc=vt,Pc=1/0,lr=ur?ur.prototype:void 0,fr=lr?lr.toString:void 0;function An(e){if(typeof e=="string")return e;if(Ec(e))return Oc(e,An)+"";if(Cc(e))return fr?fr.call(e):"";var t=e+"";return t=="0"&&1/e==-Pc?"-0":t}var xc=An,Rc=xc;function jc(e){return e==null?"":Rc(e)}var Ic=jc,Nc=L,Lc=oi,Fc=Sc,Uc=Ic;function Mc(e,t){return Nc(e)?e:Lc(e,t)?[e]:Fc(Uc(e))}var Me=Mc,Dc=vt,Bc=1/0;function kc(e){if(typeof e=="string"||Dc(e))return e;var t=e+"";return t=="0"&&1/e==-Bc?"-0":t}var Tt=kc,qc=Me,Hc=Tt;function Gc(e,t){t=qc(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Hc(t[r++])];return r&&r==n?e:void 0}var Sn=Gc,Kc=Sn;function zc(e,t,r){var n=e==null?void 0:Kc(e,t);return n===void 0?r:n}var Wc=zc;const A=I(Wc);var Jc=X,Vc=function(){try{var e=Jc(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Tn=Vc,hr=Tn;function Xc(e,t,r){t=="__proto__"&&hr?hr(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var On=Xc,Yc=On,Zc=wt,Qc=Object.prototype,eu=Qc.hasOwnProperty;function tu(e,t,r){var n=e[t];(!(eu.call(e,t)&&Zc(n,r))||r===void 0&&!(t in e))&&Yc(e,t,r)}var Ot=tu,ru=9007199254740991,nu=/^(?:0|[1-9]\d*)$/;function su(e,t){var r=typeof e;return t=t??ru,!!t&&(r=="number"||r!="symbol"&&nu.test(e))&&e>-1&&e%1==0&&e<t}var En=su,au=Ot,iu=Me,ou=En,pr=V,cu=Tt;function uu(e,t,r,n){if(!pr(e))return e;t=iu(t,e);for(var s=-1,a=t.length,i=a-1,o=e;o!=null&&++s<a;){var c=cu(t[s]),l=r;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(s!=i){var u=o[c];l=n?n(u,c,o):void 0,l===void 0&&(l=pr(u)?u:ou(t[s+1])?[]:{})}au(o,c,l),o=o[c]}return e}var lu=uu,fu=lu;function hu(e,t,r){return e==null?e:fu(e,t,r)}var pu=hu;const $e=I(pu);var du="__lodash_hash_undefined__";function gu(e){return this.__data__.set(e,du),this}var yu=gu;function mu(e){return this.__data__.has(e)}var _u=mu,bu=At,vu=yu,wu=_u;function Ae(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new bu;++t<r;)this.add(e[t])}Ae.prototype.add=Ae.prototype.push=vu;Ae.prototype.has=wu;var Et=Ae;function $u(e,t,r,n){for(var s=e.length,a=r+(n?1:-1);n?a--:++a<s;)if(t(e[a],a,e))return a;return-1}var Au=$u;function Su(e){return e!==e}var Tu=Su;function Ou(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var Eu=Ou,Cu=Au,Pu=Tu,xu=Eu;function Ru(e,t,r){return t===t?xu(e,t,r):Cu(e,Pu,r)}var ju=Ru,Iu=ju;function Nu(e,t){var r=e==null?0:e.length;return!!r&&Iu(e,t,0)>-1}var Cn=Nu;function Lu(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var Pn=Lu;function Fu(e,t){return e.has(t)}var Ct=Fu,Uu=X,Mu=F,Du=Uu(Mu,"Set"),xn=Du;function Bu(){}var ku=Bu;function qu(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Pt=qu,Ye=xn,Hu=ku,Gu=Pt,Ku=1/0,zu=Ye&&1/Gu(new Ye([,-0]))[1]==Ku?function(e){return new Ye(e)}:Hu,Wu=zu,Ju=Et,Vu=Cn,Xu=Pn,Yu=Ct,Zu=Wu,Qu=Pt,el=200;function tl(e,t,r){var n=-1,s=Vu,a=e.length,i=!0,o=[],c=o;if(r)i=!1,s=Xu;else if(a>=el){var l=t?null:Zu(e);if(l)return Qu(l);i=!1,s=Yu,c=new Ju}else c=t?[]:o;e:for(;++n<a;){var u=e[n],h=t?t(u):u;if(u=r||u!==0?u:0,i&&h===h){for(var p=c.length;p--;)if(c[p]===h)continue e;t&&c.push(h),o.push(u)}else s(c,h,r)||(c!==o&&c.push(h),o.push(u))}return o}var rl=tl,nl=rl;function sl(e){return e&&e.length?nl(e):[]}var al=sl;const il=I(al);function ol(e){return function(t){return e(t)}}var De=ol,cl=Et,ul=Cn,ll=Pn,fl=Ue,hl=De,dr=Ct,pl=Math.min;function dl(e,t,r){for(var n=r?ll:ul,s=e[0].length,a=e.length,i=a,o=Array(a),c=1/0,l=[];i--;){var u=e[i];i&&t&&(u=fl(u,hl(t))),c=pl(u.length,c),o[i]=!r&&(t||s>=120&&u.length>=120)?new cl(i&&u):void 0}u=e[0];var h=-1,p=o[0];e:for(;++h<s&&l.length<c;){var g=u[h],d=t?t(g):g;if(g=r||g!==0?g:0,!(p?dr(p,d):n(l,d,r))){for(i=a;--i;){var y=o[i];if(!(y?dr(y,d):n(e[i],d,r)))continue e}p&&p.push(d),l.push(g)}}return l}var gl=dl;function yl(e){return e}var xt=yl;function ml(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var _l=ml,bl=_l,gr=Math.max;function vl(e,t,r){return t=gr(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,a=gr(n.length-t,0),i=Array(a);++s<a;)i[s]=n[t+s];s=-1;for(var o=Array(t+1);++s<t;)o[s]=n[s];return o[t]=r(i),bl(e,this,o)}}var Rn=vl;function wl(e){return function(){return e}}var $l=wl,Al=$l,yr=Tn,Sl=xt,Tl=yr?function(e,t){return yr(e,"toString",{configurable:!0,enumerable:!1,value:Al(t),writable:!0})}:Sl,Ol=Tl,El=800,Cl=16,Pl=Date.now;function xl(e){var t=0,r=0;return function(){var n=Pl(),s=Cl-(n-r);if(r=n,s>0){if(++t>=El)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Rl=xl,jl=Ol,Il=Rl,Nl=Il(jl),jn=Nl,Ll=xt,Fl=Rn,Ul=jn;function Ml(e,t){return Ul(Fl(e,t,Ll),e+"")}var Dl=Ml,Bl=9007199254740991;function kl(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Bl}var In=kl,ql=vn,Hl=In;function Gl(e){return e!=null&&Hl(e.length)&&!ql(e)}var Be=Gl,Kl=Be,zl=U;function Wl(e){return zl(e)&&Kl(e)}var Jl=Wl,Vl=Jl;function Xl(e){return Vl(e)?e:[]}var Yl=Xl,Zl=Ue,Ql=gl,ef=Dl,tf=Yl,rf=ef(function(e){var t=Zl(e,tf);return t.length&&t[0]===e[0]?Ql(t):[]}),nf=rf;const Ze=I(nf);function sf(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var Rt=sf,af=J,of=U,cf="[object Arguments]";function uf(e){return of(e)&&af(e)==cf}var lf=uf,mr=lf,ff=U,Nn=Object.prototype,hf=Nn.hasOwnProperty,pf=Nn.propertyIsEnumerable,df=mr(function(){return arguments}())?mr:function(e){return ff(e)&&hf.call(e,"callee")&&!pf.call(e,"callee")},jt=df,_r=ee,gf=jt,yf=L,br=_r?_r.isConcatSpreadable:void 0;function mf(e){return yf(e)||gf(e)||!!(br&&e&&e[br])}var _f=mf,bf=Rt,vf=_f;function Ln(e,t,r,n,s){var a=-1,i=e.length;for(r||(r=vf),s||(s=[]);++a<i;){var o=e[a];t>0&&r(o)?t>1?Ln(o,t-1,r,n,s):bf(s,o):n||(s[s.length]=o)}return s}var wf=Ln;function $f(e){return function(t,r,n){for(var s=-1,a=Object(t),i=n(t),o=i.length;o--;){var c=i[e?o:++s];if(r(a[c],c,a)===!1)break}return t}}var Af=$f,Sf=Af,Tf=Sf(),Of=Tf;function Ef(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Cf=Ef,Se={exports:{}};function Pf(){return!1}var xf=Pf;Se.exports;(function(e,t){var r=F,n=xf,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===s,o=i?r.Buffer:void 0,c=o?o.isBuffer:void 0,l=c||n;e.exports=l})(Se,Se.exports);var ke=Se.exports,Rf=J,jf=In,If=U,Nf="[object Arguments]",Lf="[object Array]",Ff="[object Boolean]",Uf="[object Date]",Mf="[object Error]",Df="[object Function]",Bf="[object Map]",kf="[object Number]",qf="[object Object]",Hf="[object RegExp]",Gf="[object Set]",Kf="[object String]",zf="[object WeakMap]",Wf="[object ArrayBuffer]",Jf="[object DataView]",Vf="[object Float32Array]",Xf="[object Float64Array]",Yf="[object Int8Array]",Zf="[object Int16Array]",Qf="[object Int32Array]",eh="[object Uint8Array]",th="[object Uint8ClampedArray]",rh="[object Uint16Array]",nh="[object Uint32Array]",T={};T[Vf]=T[Xf]=T[Yf]=T[Zf]=T[Qf]=T[eh]=T[th]=T[rh]=T[nh]=!0;T[Nf]=T[Lf]=T[Wf]=T[Ff]=T[Jf]=T[Uf]=T[Mf]=T[Df]=T[Bf]=T[kf]=T[qf]=T[Hf]=T[Gf]=T[Kf]=T[zf]=!1;function sh(e){return If(e)&&jf(e.length)&&!!T[Rf(e)]}var ah=sh,Te={exports:{}};Te.exports;(function(e,t){var r=_n,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===n,i=a&&r.process,o=function(){try{var c=s&&s.require&&s.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();e.exports=o})(Te,Te.exports);var It=Te.exports,ih=ah,oh=De,vr=It,wr=vr&&vr.isTypedArray,ch=wr?oh(wr):ih,Nt=ch,uh=Cf,lh=jt,fh=L,hh=ke,ph=En,dh=Nt,gh=Object.prototype,yh=gh.hasOwnProperty;function mh(e,t){var r=fh(e),n=!r&&lh(e),s=!r&&!n&&hh(e),a=!r&&!n&&!s&&dh(e),i=r||n||s||a,o=i?uh(e.length,String):[],c=o.length;for(var l in e)(t||yh.call(e,l))&&!(i&&(l=="length"||s&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||ph(l,c)))&&o.push(l);return o}var Fn=mh,_h=Object.prototype;function bh(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||_h;return e===r}var qe=bh;function vh(e,t){return function(r){return e(t(r))}}var Un=vh,wh=Un,$h=wh(Object.keys,Object),Ah=$h,Sh=qe,Th=Ah,Oh=Object.prototype,Eh=Oh.hasOwnProperty;function Ch(e){if(!Sh(e))return Th(e);var t=[];for(var r in Object(e))Eh.call(e,r)&&r!="constructor"&&t.push(r);return t}var Mn=Ch,Ph=Fn,xh=Mn,Rh=Be;function jh(e){return Rh(e)?Ph(e):xh(e)}var He=jh,Ih=Of,Nh=He;function Lh(e,t){return e&&Ih(e,t,Nh)}var Fh=Lh,Uh=xt;function Mh(e){return typeof e=="function"?e:Uh}var Dh=Mh,Bh=Fh,kh=Dh;function qh(e,t){return e&&Bh(e,kh(t))}var Hh=qh;const Gh=I(Hh);var Kh=J,zh=L,Wh=U,Jh="[object String]";function Vh(e){return typeof e=="string"||!zh(e)&&Wh(e)&&Kh(e)==Jh}var Xh=Vh;const q=I(Xh);var Yh=X,Zh=F,Qh=Yh(Zh,"DataView"),ep=Qh,tp=X,rp=F,np=tp(rp,"Promise"),sp=np,ap=X,ip=F,op=ap(ip,"WeakMap"),cp=op,ut=ep,lt=$t,ft=sp,ht=xn,pt=cp,Dn=J,se=wn,$r="[object Map]",up="[object Object]",Ar="[object Promise]",Sr="[object Set]",Tr="[object WeakMap]",Or="[object DataView]",lp=se(ut),fp=se(lt),hp=se(ft),pp=se(ht),dp=se(pt),G=Dn;(ut&&G(new ut(new ArrayBuffer(1)))!=Or||lt&&G(new lt)!=$r||ft&&G(ft.resolve())!=Ar||ht&&G(new ht)!=Sr||pt&&G(new pt)!=Tr)&&(G=function(e){var t=Dn(e),r=t==up?e.constructor:void 0,n=r?se(r):"";if(n)switch(n){case lp:return Or;case fp:return $r;case hp:return Ar;case pp:return Sr;case dp:return Tr}return t});var he=G,gp=Mn,yp=he,mp=jt,_p=L,bp=Be,vp=ke,wp=qe,$p=Nt,Ap="[object Map]",Sp="[object Set]",Tp=Object.prototype,Op=Tp.hasOwnProperty;function Ep(e){if(e==null)return!0;if(bp(e)&&(_p(e)||typeof e=="string"||typeof e.splice=="function"||vp(e)||$p(e)||mp(e)))return!e.length;var t=yp(e);if(t==Ap||t==Sp)return!e.size;if(wp(e))return!gp(e).length;for(var r in e)if(Op.call(e,r))return!1;return!0}var Cp=Ep;const Pp=I(Cp);var xp=Le;function Rp(){this.__data__=new xp,this.size=0}var jp=Rp;function Ip(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Np=Ip;function Lp(e){return this.__data__.get(e)}var Fp=Lp;function Up(e){return this.__data__.has(e)}var Mp=Up,Dp=Le,Bp=$t,kp=At,qp=200;function Hp(e,t){var r=this.__data__;if(r instanceof Dp){var n=r.__data__;if(!Bp||n.length<qp-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new kp(n)}return r.set(e,t),this.size=r.size,this}var Gp=Hp,Kp=Le,zp=jp,Wp=Np,Jp=Fp,Vp=Mp,Xp=Gp;function ae(e){var t=this.__data__=new Kp(e);this.size=t.size}ae.prototype.clear=zp;ae.prototype.delete=Wp;ae.prototype.get=Jp;ae.prototype.has=Vp;ae.prototype.set=Xp;var Bn=ae;function Yp(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Zp=Yp,Qp=Et,ed=Zp,td=Ct,rd=1,nd=2;function sd(e,t,r,n,s,a){var i=r&rd,o=e.length,c=t.length;if(o!=c&&!(i&&c>o))return!1;var l=a.get(e),u=a.get(t);if(l&&u)return l==t&&u==e;var h=-1,p=!0,g=r&nd?new Qp:void 0;for(a.set(e,t),a.set(t,e);++h<o;){var d=e[h],y=t[h];if(n)var _=i?n(y,d,h,t,e,a):n(d,y,h,e,t,a);if(_!==void 0){if(_)continue;p=!1;break}if(g){if(!ed(t,function(b,C){if(!td(g,C)&&(d===b||s(d,b,r,n,a)))return g.push(C)})){p=!1;break}}else if(!(d===y||s(d,y,r,n,a))){p=!1;break}}return a.delete(e),a.delete(t),p}var kn=sd,ad=F,id=ad.Uint8Array,qn=id;function od(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var cd=od,Er=ee,Cr=qn,ud=wt,ld=kn,fd=cd,hd=Pt,pd=1,dd=2,gd="[object Boolean]",yd="[object Date]",md="[object Error]",_d="[object Map]",bd="[object Number]",vd="[object RegExp]",wd="[object Set]",$d="[object String]",Ad="[object Symbol]",Sd="[object ArrayBuffer]",Td="[object DataView]",Pr=Er?Er.prototype:void 0,Qe=Pr?Pr.valueOf:void 0;function Od(e,t,r,n,s,a,i){switch(r){case Td:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Sd:return!(e.byteLength!=t.byteLength||!a(new Cr(e),new Cr(t)));case gd:case yd:case bd:return ud(+e,+t);case md:return e.name==t.name&&e.message==t.message;case vd:case $d:return e==t+"";case _d:var o=fd;case wd:var c=n&pd;if(o||(o=hd),e.size!=t.size&&!c)return!1;var l=i.get(e);if(l)return l==t;n|=dd,i.set(e,t);var u=ld(o(e),o(t),n,s,a,i);return i.delete(e),u;case Ad:if(Qe)return Qe.call(e)==Qe.call(t)}return!1}var Ed=Od,Cd=Rt,Pd=L;function xd(e,t,r){var n=t(e);return Pd(e)?n:Cd(n,r(e))}var Hn=xd;function Rd(e,t){for(var r=-1,n=e==null?0:e.length,s=0,a=[];++r<n;){var i=e[r];t(i,r,e)&&(a[s++]=i)}return a}var jd=Rd;function Id(){return[]}var Gn=Id,Nd=jd,Ld=Gn,Fd=Object.prototype,Ud=Fd.propertyIsEnumerable,xr=Object.getOwnPropertySymbols,Md=xr?function(e){return e==null?[]:(e=Object(e),Nd(xr(e),function(t){return Ud.call(e,t)}))}:Ld,Lt=Md,Dd=Hn,Bd=Lt,kd=He;function qd(e){return Dd(e,kd,Bd)}var Kn=qd,Rr=Kn,Hd=1,Gd=Object.prototype,Kd=Gd.hasOwnProperty;function zd(e,t,r,n,s,a){var i=r&Hd,o=Rr(e),c=o.length,l=Rr(t),u=l.length;if(c!=u&&!i)return!1;for(var h=c;h--;){var p=o[h];if(!(i?p in t:Kd.call(t,p)))return!1}var g=a.get(e),d=a.get(t);if(g&&d)return g==t&&d==e;var y=!0;a.set(e,t),a.set(t,e);for(var _=i;++h<c;){p=o[h];var b=e[p],C=t[p];if(n)var $=i?n(C,b,p,t,e,a):n(b,C,p,e,t,a);if(!($===void 0?b===C||s(b,C,r,n,a):$)){y=!1;break}_||(_=p=="constructor")}if(y&&!_){var w=e.constructor,D=t.constructor;w!=D&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof D=="function"&&D instanceof D)&&(y=!1)}return a.delete(e),a.delete(t),y}var Wd=zd,et=Bn,Jd=kn,Vd=Ed,Xd=Wd,jr=he,Ir=L,Nr=ke,Yd=Nt,Zd=1,Lr="[object Arguments]",Fr="[object Array]",ge="[object Object]",Qd=Object.prototype,Ur=Qd.hasOwnProperty;function eg(e,t,r,n,s,a){var i=Ir(e),o=Ir(t),c=i?Fr:jr(e),l=o?Fr:jr(t);c=c==Lr?ge:c,l=l==Lr?ge:l;var u=c==ge,h=l==ge,p=c==l;if(p&&Nr(e)){if(!Nr(t))return!1;i=!0,u=!1}if(p&&!u)return a||(a=new et),i||Yd(e)?Jd(e,t,r,n,s,a):Vd(e,t,c,r,n,s,a);if(!(r&Zd)){var g=u&&Ur.call(e,"__wrapped__"),d=h&&Ur.call(t,"__wrapped__");if(g||d){var y=g?e.value():e,_=d?t.value():t;return a||(a=new et),s(y,_,r,n,a)}}return p?(a||(a=new et),Xd(e,t,r,n,s,a)):!1}var tg=eg,rg=tg,Mr=U;function zn(e,t,r,n,s){return e===t?!0:e==null||t==null||!Mr(e)&&!Mr(t)?e!==e&&t!==t:rg(e,t,r,n,zn,s)}var ng=zn,sg=ng;function ag(e,t){return sg(e,t)}var ig=ag;const dt=I(ig);var Oe={exports:{}};Oe.exports;(function(e,t){var r=F,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===n,i=a?r.Buffer:void 0,o=i?i.allocUnsafe:void 0;function c(l,u){if(u)return l.slice();var h=l.length,p=o?o(h):new l.constructor(h);return l.copy(p),p}e.exports=c})(Oe,Oe.exports);var og=Oe.exports,Dr=qn;function cg(e){var t=new e.constructor(e.byteLength);return new Dr(t).set(new Dr(e)),t}var Ft=cg,ug=Ft;function lg(e,t){var r=t?ug(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var fg=lg;function hg(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var pg=hg,dg=V,Br=Object.create,gg=function(){function e(){}return function(t){if(!dg(t))return{};if(Br)return Br(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),yg=gg,mg=Un,_g=mg(Object.getPrototypeOf,Object),Ut=_g,bg=yg,vg=Ut,wg=qe;function $g(e){return typeof e.constructor=="function"&&!wg(e)?bg(vg(e)):{}}var Ag=$g,Sg=J,Tg=Ut,Og=U,Eg="[object Object]",Cg=Function.prototype,Pg=Object.prototype,Wn=Cg.toString,xg=Pg.hasOwnProperty,Rg=Wn.call(Object);function jg(e){if(!Og(e)||Sg(e)!=Eg)return!1;var t=Tg(e);if(t===null)return!0;var r=xg.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Wn.call(r)==Rg}var Ig=jg,Ng=Ot,Lg=On;function Fg(e,t,r,n){var s=!r;r||(r={});for(var a=-1,i=t.length;++a<i;){var o=t[a],c=n?n(r[o],e[o],o,r,e):void 0;c===void 0&&(c=e[o]),s?Lg(r,o,c):Ng(r,o,c)}return r}var pe=Fg;function Ug(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var Mg=Ug,Dg=V,Bg=qe,kg=Mg,qg=Object.prototype,Hg=qg.hasOwnProperty;function Gg(e){if(!Dg(e))return kg(e);var t=Bg(e),r=[];for(var n in e)n=="constructor"&&(t||!Hg.call(e,n))||r.push(n);return r}var Kg=Gg,zg=Fn,Wg=Kg,Jg=Be;function Vg(e){return Jg(e)?zg(e,!0):Wg(e)}var Mt=Vg;function Xg(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Yg=Xg;function Zg(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var Qg=Zg,ey=pe,ty=He;function ry(e,t){return e&&ey(t,ty(t),e)}var ny=ry,sy=pe,ay=Mt;function iy(e,t){return e&&sy(t,ay(t),e)}var oy=iy,cy=pe,uy=Lt;function ly(e,t){return cy(e,uy(e),t)}var fy=ly,hy=Rt,py=Ut,dy=Lt,gy=Gn,yy=Object.getOwnPropertySymbols,my=yy?function(e){for(var t=[];e;)hy(t,dy(e)),e=py(e);return t}:gy,Jn=my,_y=pe,by=Jn;function vy(e,t){return _y(e,by(e),t)}var wy=vy,$y=Hn,Ay=Jn,Sy=Mt;function Ty(e){return $y(e,Sy,Ay)}var Vn=Ty,Oy=Object.prototype,Ey=Oy.hasOwnProperty;function Cy(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&Ey.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var Py=Cy,xy=Ft;function Ry(e,t){var r=t?xy(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var jy=Ry,Iy=/\w*$/;function Ny(e){var t=new e.constructor(e.source,Iy.exec(e));return t.lastIndex=e.lastIndex,t}var Ly=Ny,kr=ee,qr=kr?kr.prototype:void 0,Hr=qr?qr.valueOf:void 0;function Fy(e){return Hr?Object(Hr.call(e)):{}}var Uy=Fy,My=Ft,Dy=jy,By=Ly,ky=Uy,qy=fg,Hy="[object Boolean]",Gy="[object Date]",Ky="[object Map]",zy="[object Number]",Wy="[object RegExp]",Jy="[object Set]",Vy="[object String]",Xy="[object Symbol]",Yy="[object ArrayBuffer]",Zy="[object DataView]",Qy="[object Float32Array]",em="[object Float64Array]",tm="[object Int8Array]",rm="[object Int16Array]",nm="[object Int32Array]",sm="[object Uint8Array]",am="[object Uint8ClampedArray]",im="[object Uint16Array]",om="[object Uint32Array]";function cm(e,t,r){var n=e.constructor;switch(t){case Yy:return My(e);case Hy:case Gy:return new n(+e);case Zy:return Dy(e,r);case Qy:case em:case tm:case rm:case nm:case sm:case am:case im:case om:return qy(e,r);case Ky:return new n;case zy:case Vy:return new n(e);case Wy:return By(e);case Jy:return new n;case Xy:return ky(e)}}var um=cm,lm=he,fm=U,hm="[object Map]";function pm(e){return fm(e)&&lm(e)==hm}var dm=pm,gm=dm,ym=De,Gr=It,Kr=Gr&&Gr.isMap,mm=Kr?ym(Kr):gm,_m=mm,bm=he,vm=U,wm="[object Set]";function $m(e){return vm(e)&&bm(e)==wm}var Am=$m,Sm=Am,Tm=De,zr=It,Wr=zr&&zr.isSet,Om=Wr?Tm(Wr):Sm,Em=Om,Cm=Bn,Pm=Qg,xm=Ot,Rm=ny,jm=oy,Im=og,Nm=pg,Lm=fy,Fm=wy,Um=Kn,Mm=Vn,Dm=he,Bm=Py,km=um,qm=Ag,Hm=L,Gm=ke,Km=_m,zm=V,Wm=Em,Jm=He,Vm=Mt,Xm=1,Ym=2,Zm=4,Xn="[object Arguments]",Qm="[object Array]",e_="[object Boolean]",t_="[object Date]",r_="[object Error]",Yn="[object Function]",n_="[object GeneratorFunction]",s_="[object Map]",a_="[object Number]",Zn="[object Object]",i_="[object RegExp]",o_="[object Set]",c_="[object String]",u_="[object Symbol]",l_="[object WeakMap]",f_="[object ArrayBuffer]",h_="[object DataView]",p_="[object Float32Array]",d_="[object Float64Array]",g_="[object Int8Array]",y_="[object Int16Array]",m_="[object Int32Array]",__="[object Uint8Array]",b_="[object Uint8ClampedArray]",v_="[object Uint16Array]",w_="[object Uint32Array]",S={};S[Xn]=S[Qm]=S[f_]=S[h_]=S[e_]=S[t_]=S[p_]=S[d_]=S[g_]=S[y_]=S[m_]=S[s_]=S[a_]=S[Zn]=S[i_]=S[o_]=S[c_]=S[u_]=S[__]=S[b_]=S[v_]=S[w_]=!0;S[r_]=S[Yn]=S[l_]=!1;function _e(e,t,r,n,s,a){var i,o=t&Xm,c=t&Ym,l=t&Zm;if(r&&(i=s?r(e,n,s,a):r(e)),i!==void 0)return i;if(!zm(e))return e;var u=Hm(e);if(u){if(i=Bm(e),!o)return Nm(e,i)}else{var h=Dm(e),p=h==Yn||h==n_;if(Gm(e))return Im(e,o);if(h==Zn||h==Xn||p&&!s){if(i=c||p?{}:qm(e),!o)return c?Fm(e,jm(i,e)):Lm(e,Rm(i,e))}else{if(!S[h])return s?e:{};i=km(e,h,o)}}a||(a=new Cm);var g=a.get(e);if(g)return g;a.set(e,i),Wm(e)?e.forEach(function(_){i.add(_e(_,t,r,_,e,a))}):Km(e)&&e.forEach(function(_,b){i.set(b,_e(_,t,r,b,e,a))});var d=l?c?Mm:Um:c?Vm:Jm,y=u?void 0:d(e);return Pm(y||e,function(_,b){y&&(b=_,_=e[b]),xm(i,b,_e(_,t,r,b,e,a))}),i}var $_=_e;function A_(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(s);++n<s;)a[n]=e[n+t];return a}var S_=A_,T_=Sn,O_=S_;function E_(e,t){return t.length<2?e:T_(e,O_(t,0,-1))}var C_=E_,P_=Me,x_=Yg,R_=C_,j_=Tt;function I_(e,t){return t=P_(t,e),e=R_(e,t),e==null||delete e[j_(x_(t))]}var N_=I_,L_=Ig;function F_(e){return L_(e)?void 0:e}var U_=F_,M_=wf;function D_(e){var t=e==null?0:e.length;return t?M_(e,1):[]}var B_=D_,k_=B_,q_=Rn,H_=jn;function G_(e){return H_(q_(e,void 0,k_),e+"")}var K_=G_,z_=Ue,W_=$_,J_=N_,V_=Me,X_=pe,Y_=U_,Z_=K_,Q_=Vn,eb=1,tb=2,rb=4,nb=Z_(function(e,t){var r={};if(e==null)return r;var n=!1;t=z_(t,function(a){return a=V_(a,e),n||(n=a.length>1),a}),X_(e,Q_(e),r),n&&(r=W_(r,eb|tb|rb,Y_));for(var s=t.length;s--;)J_(r,t[s]);return r}),sb=nb;const ue=I(sb),ab=[{method:"getRegistries",fallback:[],type:"Registries"},{method:"getSchemes",fallback:[],type:"Schemes"},{method:"vocSearch",fallback:[],type:"Schemes"},{method:"getTypes",fallback:[],type:"Types"},{method:"suggest",fallback:["",[],[],[]]},{method:"vocSuggest",fallback:["",[],[],[]]},{method:"getConcordances",fallback:[],type:"Concordances"},{method:"getOccurrences",fallback:[],type:"Occurrences"},{method:"getTop",fallback:[],type:"Concepts"},{method:"getConcepts",fallback:[],type:"Concepts"},{method:"getNarrower",fallback:[],type:"Concepts"},{method:"getAncestors",fallback:[],type:"Concepts"},{method:"search",fallback:[],type:"Concepts"},{method:"getMapping",fallback:null,type:"Mapping"},{method:"getMappings",fallback:[],type:"Mappings"},{method:"postMapping",fallback:null,type:"Mapping"},{method:"postMappings",fallback:[],type:"Mapping"},{method:"putMapping",fallback:null,type:"Mapping"},{method:"patchMapping",fallback:null,type:"Mapping"},{method:"deleteMapping",fallback:!1},{method:"deleteMappings",fallback:[]},{method:"getAnnotations",fallback:[],type:"Annotations"},{method:"postAnnotation",fallback:null,type:"Annotation"},{method:"putAnnotation",fallback:null,type:"Annotation"},{method:"patchAnnotation",fallback:null,type:"Annotation"},{method:"deleteAnnotation",fallback:!1}];function Ee(...e){let[t,...r]=e;for(let n of r)t.endsWith("/")||(t+="/"),n.startsWith("/")&&(n=n.slice(1)),t+=n;return t}function be(e,t){return e._totalCount=t._totalCount,e._url=t._url,e}const Qn=["schemes","top","data","concepts","narrower","ancestors","types","suggest","search","auth","mappings","concordances","annotations","occurrences"];class K{constructor(t={}){this._jskos=t,this.axios=E.create({timeout:2e4}),this._path=typeof window<"u"&&window.location.pathname,this.has={},this._defaultLanguages="en,de,fr,es,nl,it,fi,pl,ru,cs,jp".split(","),this.languages=[],this._auth={key:null,bearerToken:null},this._repeating=[],this._api={status:t.status,schemes:Array.isArray(t.schemes)?void 0:t.schemes,top:t.top,data:t.data,concepts:t.concepts,narrower:t.narrower,ancestors:t.ancestors,types:t.types,suggest:t.suggest,search:t.search,"voc-suggest":t["voc-suggest"],"voc-search":t["voc-search"],mappings:t.mappings,concordances:t.concordances,annotations:t.annotations,occurrences:t.occurrences,reconcile:t.reconcile,api:t.api},this._config={},this.setRetryConfig(),this.axios.interceptors.request.use((n={})=>{var s;if(!n._skipAdditionalParameters){const a=il([].concat(A(n,"params.language","").split(","),this.languages,this._defaultLanguages).filter(i=>i!="")).join(",");$e(n,"params.language",a),this.has.auth&&this._auth.bearerToken&&!A(n,"headers.Authorization")&&$e(n,"headers.Authorization",`Bearer ${this._auth.bearerToken}`)}if((s=n.url)!=null&&s.startsWith("http:")&&typeof window<"u"&&window.location.protocol=="https:")throw new E.Cancel("Can't call http API from https.");return n}),this.axios.interceptors.response.use(({data:n,headers:s={},config:a={}})=>{n=O.normalize(n);let i=a.url;if(i.endsWith("?")||(i+="?"),Gh(a.params||{},(o,c)=>{i+=`${c}=${encodeURIComponent(o)}&`}),Je(n)||Ve(n)){let o=parseInt(s["x-total-count"]);isNaN(o)||(n._totalCount=o),n._url=i}return n},n=>{const s=A(n,"config._retryCount",0),a=A(n,"config.method"),i=A(n,"response.status");return this._retryConfig.methods.includes(a)&&this._retryConfig.statusCodes.includes(i)&&s<this._retryConfig.count?(n.config._retryCount=s+1,n.config.data&&(n.config.data=JSON.parse(n.config.data)),new Promise((o,c)=>{setTimeout(()=>{this.axios(n.config).then(o).catch(c)},(()=>{const l=this._retryConfig.delay;return typeof l=="function"?l(s):l})())})):Promise.reject(n)});const r=[];for(let{method:n,type:s}of ab){const a=this[n]&&this[n].bind(this);if(!a){this[n]=()=>{throw new es({method:n})};continue}this[n]=(i={})=>{if(i._raw)return delete i._raw,a(i);const o=r.find(h=>h.method==n&&dt(h.options,i));if(o)return o.promise;let c;i.cancelToken||(c=this.getCancelTokenSource(),i.cancelToken=c.token);const l=this.init().then(()=>a(i)).then(h=>(Je(h)&&h._totalCount===void 0?h._totalCount=h.length:Ve(h)&&h._totalCount===void 0&&(h._totalCount=1),h&&s&&this[`adjust${s}`]&&(h=this[`adjust${s}`](h)),h)).catch(h=>{throw h instanceof j?h:h.response?h.response.status.toString().startsWith(4)?new ts({relatedError:h,code:h.response.status}):new rs({relatedError:h,code:h.response.status}):h.request?typeof navigator<"u"&&(navigator.connection||navigator.mozConnection||navigator.webkitConnection)?new ns({relatedError:h}):new ss({relatedError:h}):new j({relatedError:h})});c&&(l.cancel=(...h)=>c.cancel(...h));const u={method:n,options:ue(i,["cancelToken"]),promise:l};return r.push(u),l.catch(()=>{}).then(()=>r.splice(r.indexOf(u),1)),l}}}get uri(){return this._jskos.uri}get notation(){return this._jskos.notation}get prefLabel(){return this._jskos.prefLabel}get definition(){return this._jskos.definition}get schemes(){return this._jskos.schemes}get excludedSchemes(){return this._jskos.excludedSchemes}get stored(){return this._jskos.stored!==void 0?this._jskos.stored:this.constructor.stored}async init(){return this._init?this._init:(this._init=(async()=>{this._prepare();let t;if(q(this._api.status))try{t=await this.axios({method:"get",url:this._api.status})}catch(r){A(r,"response.status")===404&&(this._api.status=null)}else t=this._api.status;if(Ve(t)&&!Pp(t)){this._config=t.config||{};for(let r of Object.keys(this._api))this._api[r]===void 0&&(this._api[r]=t[r]||null)}this._setup()})(),this._init)}_prepare(){}_setup(){}getCancelTokenSource(){return E.CancelToken.source()}setAuth({key:t=this._auth.key,bearerToken:r=this._auth.bearerToken}){this._auth.key=t,this._auth.bearerToken=r}setRetryConfig(t={}){this._retryConfig=Object.assign({methods:["get","head","options"],statusCodes:[401,403],count:3,delay:r=>300*r},t)}isAuthorizedFor({type:t,action:r,user:n,crossUser:s}){if(r=="read"&&this.has[t]===!0)return!0;if(!this.has[t])return!1;const a=A(this._config,`${t}.${r}`);if(!a)return!!this.has[t][r];if(a.auth&&(!n||!this._auth.key)||a.auth&&this._auth.key!=A(this._config,"auth.key"))return!1;const i=[n==null?void 0:n.uri].concat(Object.values((n==null?void 0:n.identities)||{}).map(o=>o.uri)).filter(Boolean);if(a.auth&&a.identities&&Ze(i,a.identities).length==0)return!1;if(a.auth&&a.identityProviders){const o=Object.keys((n==null?void 0:n.identities)||{});if(Ze(o,a.identityProviders).length==0)return!1}return s?a.crossUser===!0||Ze(a.crossUser||[],i).length>0:!!this.has[t][r]}supportsScheme(t){if(!t)return!1;let r=Je(this.schemes)?this.schemes:null;return r==null&&!O.isContainedIn(t,this.excludedSchemes||[])?!0:O.isContainedIn(t,r)}adjustConcept(t){if(!t||t.__SAVED__)return t;t._getNarrower=r=>this.getNarrower({...r,concept:t}),t._getAncestors=r=>this.getAncestors({...r,concept:t}),t._getDetails=async r=>(await this.getConcepts({...r,concepts:[t]}))[0];for(let r of["broader","narrower","ancestors"])Array.isArray(t[r])&&t[r].length&&!t[r].includes(null)&&(t[r]=this.adjustConcepts(t[r]));return t._registry=this,t}adjustConcepts(t){return be(t.map(r=>this.adjustConcept(r)),t)}adjustRegistries(t){return t}adjustScheme(t){if(!t||t.__SAVED__)return t;const r=t._registry;return t._registry=this.cdk&&this.cdk.registryForScheme(t),!t._registry||r===t._registry||t._registry._api.api===this._api.api?t._registry=r||this:["concepts","topConcepts"].forEach(n=>{Array.isArray(t[n])&&(t[n].length===0||t[n][0]===null)&&delete t[n]}),t._registry&&(t._getTop=n=>t._registry.getTop({...n,scheme:t}),t._getTypes=n=>t._registry.getTypes({...n,scheme:t}),t._suggest=({search:n,...s})=>t._registry.suggest({...s,search:n,scheme:t})),t}adjustSchemes(t){return be(t.map(r=>this.adjustScheme(r)),t)}adjustConcordances(t){for(let r of t)r._registry=this;return t}adjustMapping(t){for(let r of["from","to"]){let n=`${r}Scheme`;t[n]||(t[n]=A(O.conceptsOfMapping(t,r),"[0].inScheme[0]",null))}if(t._registry=this,!t.identifier){let r=A(O.addMappingIdentifiers(t),"identifier");r&&(t.identifier=r)}return t}adjustMappings(t){return be(t.map(r=>this.adjustMapping(r)),t)}async postMappings({mappings:t,...r}={}){if(!t||!t.length)throw new v({parameter:"mappings"});return this._callHelperForArrayWrappers({method:"postMapping",items:t,itemProperty:"mapping",config:r})}async deleteMappings({mappings:t,...r}={}){if(!t||!t.length)throw new v({parameter:"mappings"});return this._callHelperForArrayWrappers({method:"deleteMapping",items:t,itemProperty:"mapping",config:r})}async _callHelperForArrayWrappers({method:t,items:r,itemProperty:n,config:s}){const a=[],i=await Promise.all(r.map(async o=>{try{return await this[t]({[n]:o,...s,_raw:!0})}catch(c){return a[r.indexOf(o)]=c,null}}));return i._errors=a,i}}K.providerName="Base";class Dt extends K{_prepare(){this._api.api&&this._api.status===void 0&&(this._api.status=Ee(this._api.api,"/status")),this.has.mappings=!0,this.has.concordances=!0,this.has.annotations=!0,Qn.filter(t=>!this.has[t]).forEach(t=>{this.has[t]=!1})}_setup(){if(this._api.api){const t={mappings:"/mappings",concordances:"/concordances",annotations:"/annotations"};for(let r of Object.keys(t))this._api[r]===void 0&&(this._api[r]=Ee(this._api.api,t[r]))}this.has.mappings=this._api.mappings?{}:!1,this.has.mappings&&(this.has.mappings.read=!!A(this._config,"mappings.read",!0),this.has.mappings.create=!!A(this._config,"mappings.create"),this.has.mappings.update=!!A(this._config,"mappings.update"),this.has.mappings.delete=!!A(this._config,"mappings.delete"),this.has.mappings.anonymous=!!A(this._config,"mappings.anonymous")),this.has.concordances=this._api.concordances?{}:!1,this.has.concordances&&(this.has.concordances.read=!!A(this._config,"concordances.read"),this.has.concordances.create=!!A(this._config,"concordances.create"),this.has.concordances.update=!!A(this._config,"concordances.update"),this.has.concordances.delete=!!A(this._config,"concordances.delete")),this.has.annotations=this._api.annotations?{}:!1,this.has.annotations&&(this.has.annotations.read=!!A(this._config,"annotations.read"),this.has.annotations.create=!!A(this._config,"annotations.create"),this.has.annotations.update=!!A(this._config,"annotations.update"),this.has.annotations.delete=!!A(this._config,"annotations.delete")),this.has.auth=A(this._config,"auth.key")!=null,this._defaultParams={properties:"annotations"}}async getMapping({mapping:t,...r}){if(!t)throw new v({parameter:"mapping"});if(!t.uri||!t.uri.startsWith(this._api.mappings))throw new v({parameter:"mapping",message:"URI doesn't seem to be part of this registry."});try{return await this.axios({...r,url:t.uri,params:{...this._defaultParams,...r.params||{}}})}catch(n){if(A(n,"response.status")==404)return null;throw n}}async getMappings({from:t,fromScheme:r,to:n,toScheme:s,creator:a,type:i,partOf:o,offset:c,limit:l,direction:u,mode:h,identifier:p,cardinality:g,annotatedBy:d,annotatedFor:y,annotatedWith:_,sort:b,order:C,...$}){let w={},D=this._api.mappings;return t&&(w.from=q(t)?t:t.uri),r&&(w.fromScheme=q(r)?r:r.uri),n&&(w.to=q(n)?n:n.uri),s&&(w.toScheme=q(s)?s:s.uri),a&&(w.creator=q(a)?a:O.prefLabel(a)),i&&(w.type=q(i)?i:i.uri),o&&(w.partOf=q(o)?o:o.uri),c&&(w.offset=c),l&&(w.limit=l),u&&(w.direction=u),g&&(w.cardinality=g),d&&(w.annotatedBy=d),y&&(w.annotatedFor=y),_&&(w.annotatedWith=_),h&&(w.mode=h),p&&(w.identifier=p),b&&(w.sort=b),C&&(w.order=C),this.axios({...$,method:"get",url:D,params:{...this._defaultParams,...$.params||{},...w}})}async postMapping({mapping:t,...r}){if(!t)throw new v({parameter:"mapping"});return t=O.minifyMapping(t),t=O.addMappingIdentifiers(t),this.axios({...r,method:"post",url:this._api.mappings,data:t,params:{...this._defaultParams,...r.params||{}}})}async putMapping({mapping:t,...r}){if(!t)throw new v({parameter:"mapping"});t=O.minifyMapping(t),t=O.addMappingIdentifiers(t);const n=t.uri;if(!n||!n.startsWith(this._api.mappings))throw new v({parameter:"mapping",message:"URI doesn't seem to be part of this registry."});return this.axios({...r,method:"put",url:n,data:t,params:{...this._defaultParams,...r.params||{}}})}async patchMapping({mapping:t,...r}){if(!t)throw new v({parameter:"mapping"});const n=t.uri;if(!n||!n.startsWith(this._api.mappings))throw new v({parameter:"mapping",message:"URI doesn't seem to be part of this registry."});return this.axios({...r,method:"patch",url:n,data:ue(t,"uri"),params:{...this._defaultParams,...r.params||{}}})}async deleteMapping({mapping:t,...r}){if(!t)throw new v({parameter:"mapping"});const n=t.uri;if(!n||!n.startsWith(this._api.mappings))throw new v({parameter:"mapping",message:"URI doesn't seem to be part of this registry."});return await this.axios({...r,method:"delete",url:n}),!0}async getAnnotations({target:t,...r}){return t&&$e(r,"params.target",t),this.axios({...r,method:"get",url:this._api.annotations})}async postAnnotation({annotation:t,...r}){return this.axios({...r,method:"post",url:this._api.annotations,data:t})}async putAnnotation({annotation:t,...r}){const n=t.id;if(!n||!n.startsWith(this._api.annotations))throw new v({parameter:"annotation",message:"URI doesn't seem to be part of this registry."});return this.axios({...r,method:"put",url:n,data:t})}async patchAnnotation({annotation:t,...r}){const n=t.id;if(!n||!n.startsWith(this._api.annotations))throw new v({parameter:"annotation",message:"URI doesn't seem to be part of this registry."});return this.axios({...r,method:"patch",url:n,data:t})}async deleteAnnotation({annotation:t,...r}){const n=t.id;if(!n||!n.startsWith(this._api.annotations))throw new v({parameter:"annotation",message:"URI doesn't seem to be part of this registry."});return await this.axios({...r,method:"delete",url:n}),!0}async getConcordances(t){return this.axios({...t,method:"get",url:this._api.concordances})}async postConcordance({concordance:t,...r}){if(!t)throw new v({parameter:"concordance"});return this.axios({...r,method:"post",url:this._api.concordances,data:t,params:{...this._defaultParams,...r.params||{}}})}async putConcordance({concordance:t,...r}){if(!t)throw new v({parameter:"concordance"});const n=t.uri;if(!n||!n.startsWith(this._api.concordances))throw new v({parameter:"concordance",message:"URI doesn't seem to be part of this registry."});return this.axios({...r,method:"put",url:n,data:t,params:{...this._defaultParams,...r.params||{}}})}async patchConcordance({concordance:t,...r}){if(!t)throw new v({parameter:"concordance"});const n=t.uri;if(!n||!n.startsWith(this._api.concordances))throw new v({parameter:"concordance",message:"URI doesn't seem to be part of this registry."});return this.axios({...r,method:"patch",url:n,data:ue(t,"uri"),params:{...this._defaultParams,...r.params||{}}})}async deleteConcordance({concordance:t,...r}){if(!t)throw new v({parameter:"concordance"});const n=t.uri;if(!n||!n.startsWith(this._api.concordances))throw new v({parameter:"concordance",message:"URI doesn't seem to be part of this registry."});return await this.axios({...r,method:"delete",url:n}),!0}}Dt.providerName="MappingsApi";Dt.stored=!0;class Bt extends K{_prepare(){this._api.api&&this._api.status===void 0&&(this._api.status=Ee(this._api.api,"/status")),this.has.schemes=!0,this.has.top=!0,this.has.data=!0,this.has.concepts=!0,this.has.narrower=!0,this.has.ancestors=!0,this.has.types=!0,this.has.suggest=!0,this.has.search=!0,this.has.auth=!0,Qn.filter(t=>!this.has[t]).forEach(t=>{this.has[t]=!1})}_setup(){if(this._api.api){const t={schemes:"/voc",top:"/voc/top",concepts:"/voc/concepts",data:"/data",narrower:"/narrower",ancestors:"/ancestors",types:"/types",suggest:"/suggest",search:"/search"};for(let r of Object.keys(t))this._api[r]===void 0&&(this._api[r]=Ee(this._api.api,t[r]))}this.has.schemes=!!this._api.schemes,!this.has.schemes&&Array.isArray(this.schemes)&&(this.has.schemes=!0),this.has.top=!!this._api.top,this.has.data=!!this._api.data,this.has.concepts=!!this._api.concepts||this.has.data,this.has.narrower=!!this._api.narrower,this.has.ancestors=!!this._api.ancestors,this.has.types=!!this._api.types,this.has.suggest=!!this._api.suggest,this.has.search=!!this._api.search,this.has.auth=A(this._config,"auth.key")!=null,this._defaultParams={properties:"+created,issued,modified,editorialNote,scopeNote,note,definition"}}static _registryConfigForBartocApiConfig({url:t,scheme:r}={}){return!t||!r?null:{api:t,schemes:[r]}}async _getSchemeUri(t){this._approvedSchemes=this._approvedSchemes||[],this._rejectedSchemes=this._rejectedSchemes||[];let r=this._approvedSchemes.find(a=>O.compare(t,a));if(r)return r.uri;if(this._rejectedSchemes.find(a=>O.compare(t,a)))return null;const s=(await this.getSchemes({params:{uri:O.getAllUris(t).join("|")}})).find(a=>O.compare(a,t));return s?(this._approvedSchemes.push({uri:s.uri,identifier:O.getAllUris(t)}),s.uri):(this._rejectedSchemes.push({uri:t.uri,identifier:t.identifier}),null)}async getSchemes(t={}){if(!this._api.schemes){if(Array.isArray(this.schemes))return this.schemes;throw new H}const r=await this.axios({...t,method:"get",url:this._api.schemes,params:{...this._defaultParams,limit:500,...t.params||{}}});return Array.isArray(this.schemes)?be(r.filter(n=>O.isContainedIn(n,this.schemes)),r):r}async getTop({scheme:t,...r}){if(!this._api.top)throw new H;if(!t)throw new v({parameter:"scheme"});const n=await this._getSchemeUri(t);if(!n)throw new v({parameter:"scheme",message:"Requested vocabulary seems to be unsupported by this API."});return Array.isArray(this._api.top)?this._api.top:this.axios({...r,method:"get",url:this._api.top,params:{...this._defaultParams,limit:1e4,...r.params||{},uri:n}})}async getConcepts({concepts:t,...r}){if(this.has.data===!1)throw new H;if(!t)throw new v({parameter:"concepts"});Array.isArray(t)||(t=[t]);let n=t.map(s=>s.uri).filter(s=>s!=null);return this.axios({...r,method:"get",url:this._api.data,params:{...this._defaultParams,limit:500,...r.params||{},uri:n.join("|")}})}async getNarrower({concept:t,...r}){if(!this._api.narrower)throw new H;if(!t||!t.uri)throw new v({parameter:"concept"});return this.axios({...r,method:"get",url:this._api.narrower,params:{...this._defaultParams,limit:1e4,...r.params||{},uri:t.uri}})}async getAncestors({concept:t,...r}){if(!this._api.ancestors)throw new H;if(!t||!t.uri)throw new v({parameter:"concept"});return this.axios({...r,method:"get",url:this._api.ancestors,params:{...this._defaultParams,limit:1e4,...r.params||{},uri:t.uri}})}async suggest({use:t="notation,label",types:r=[],sort:n="score",params:s={},...a}){return this._search({...a,endpoint:"suggest",params:{...s,type:r.join("|"),use:t,sort:n}})}async search({types:t=[],params:r={},...n}){return this._search({...n,endpoint:"search",params:{...r,type:t.join("|")}})}async vocSuggest({use:t="notation,label",sort:r="score",params:n={},...s}){return this._search({...s,endpoint:"voc-suggest",params:{...n,use:t,sort:r}})}async vocSearch(t){return this._search({...t,endpoint:"voc-search"})}async _search({endpoint:t,scheme:r,search:n,limit:s,offset:a,params:i,url:o,...c}){if(o=o??this._api[t],!o)throw new H;if(!n)throw new v({parameter:"search"});s=s||this._jskos.suggestResultLimit||100,a=a||0;const l=r&&await this._getSchemeUri(r);return o=o.replace("{searchTerms}",n),this.axios({...c,params:{...this._defaultParams,...i,limit:s,count:s,offset:a,search:n,query:n,voc:l},method:"get",url:o})}async getTypes({scheme:t,...r}){if(!this._api.types)throw new H;if(Array.isArray(this._api.types))return this._api.types;const n=t&&await this._getSchemeUri(t);n&&$e(r,"params.uri",n);let s=await this.axios({...r,method:"get",url:this._api.types});return n&&(s=s.filter(a=>!a.inScheme||O.isContainedIn(t,a.inScheme))),s}}Bt.providerName="ConceptApi";Bt.providerType="http://bartoc.org/api-type/jskos";const M={[K.providerName]:K,init(e){if(this[e.provider])return new this[e.provider](e);throw new Ht},addProvider(e){if(e.prototype instanceof K||e===K)this[e.providerName]=e;else throw new Ht}};M.addProvider(Bt);M.addProvider(Dt);const tt={};class kt{constructor(t){this.config=t,this.axios=E.create()}setConfig(t){this.config=t}get config(){return this._config}set config(t){t=t||{},t.registries=t.registries||[],t.registries=t.registries.map(r=>M.init(r)).filter(r=>r),t.registries.forEach(r=>{r.cdk=this}),this._config=t}get providers(){return M}createInstance(t){return new kt(t)}async loadConfig(t){const r=await this.axios.get(t);this.config=r.data}loadBuildInfo({url:t,buildInfo:r=null,interval:n=6e4,callback:s,...a}){if(!t&&!this.config.cocodaBaseUrl)throw new j({message:"Could not determine URL to load build config."});return t||(t=`${this.config.cocodaBaseUrl}build-info.json`),this.repeat({...a,function:async()=>(await this.axios.get(t,{headers:{"Cache-Control":"no-cache"}})).data,interval:n,callback:(i,o,c)=>{i?s(i):(c||!c&&r&&!dt(o,r))&&s(null,o,c||r)}})}getRegistryForUri(t){return this.config.registries.find(r=>r.uri==t)}initializeRegistry(t){return t=M.init(t),t.cdk=this,t}addProvider(t){M.addProvider(t)}static addProvider(t){M.addProvider(t)}repeat({function:t,interval:r=15e3,callback:n,callImmediately:s=!0}={}){if(!t)throw new v({parameter:"function"});if(typeof t!="function")throw new v({parameter:"function",message:"function needs to be a function"});const a=async()=>t();if(r=parseInt(r),isNaN(r))throw new v({parameter:"interval"});if(!n)throw new v({parameter:"callback"});if(typeof n!="function")throw new v({parameter:"callback",message:"callback needs to be a function"});let i={timer:null,result:null,error:null,isPaused:!1,interval:r};const o=p=>{const g=i.result;dt(g,p)||(i.result=p,i.error=null,n(null,p,g))},c=p=>{i.error=p,n(p)},l=p=>{i.isPaused||(i.timer=setTimeout(()=>{p()},i.interval))},u=()=>a().then(o).catch(c).then(()=>l(u)),h=(p=s)=>{p?u():l(u)};return h(),{start:(...p)=>{i.isPaused=!1,h(...p)},stop:()=>{i.isPaused=!0,i.timer?clearTimeout(i.timer):setTimeout(()=>{i.timer&&clearTimeout(i.timer)},i.interval)},get isPaused(){return i.isPaused},get lastResult(){return i.result},get hasErrored(){return!!i.error},get interval(){return i.interval},set interval(p){i.interval=p}}}async getSchemes(t={}){let r=[],n=[];for(let s of this.config.registries)if(s.has.schemes!==!1){let a=s.getSchemes(t).then(i=>{for(let o of i){o._registry=s,o.__DETAILSLOADED__=1,o.type=o.type||["http://www.w3.org/2004/02/skos/core#ConceptScheme"];let c=r.find(p=>O.compare(p,o)),l,u,h=!1;if(c){l=this.config.registries.indexOf(s),l!=-1&&(l=this.config.registries.length-l),u=this.config.registries.indexOf(A(c,"_registry")),u!=-1&&(u=this.config.registries.length-u);let p=o.concepts?o.concepts.length==0?-1:1:0,g=c.concepts?c.concepts.length==0?-1:1:0;p>g?h=!0:p<g?h=!1:h=u<l}if(!c||h){if(h){let p=r.findIndex(g=>O.compare(g,c));p!=-1&&r.splice(p,1),o=O.merge(o,ue(c,["concepts","topConcepts"]),{mergeUris:!0,skipPaths:["_registry"]})}o._registry=s,r.push(o)}else{const p=r.findIndex(g=>O.compare(g,o));if(p!=-1){const g=r[p]._registry;r[p]=O.merge(r[p],ue(o,["concepts","topConcepts"]),{mergeUris:!0,skipPaths:["_registry"]}),r[p]._registry=g}}}}).catch(i=>{console.warn("Couldn't load schemes for registry",s.uri,i)});n.push(a)}return await Promise.all(n),r.forEach(s=>{const a=s._registry;delete s._registry;const i=this.registryForScheme(s);!i||i._api.api===a._api.api?s._registry=a:s._registry=i}),O.sortSchemes(r.filter(Boolean))}registryForScheme(t){let r=t._registry;if(r)return r;for(let{type:n,...s}of t.API||[]){const a=s.url;if(tt[a]){const i=tt[a];return Array.isArray(i._jskos.schemes)&&!O.isContainedIn(t,i._jskos.schemes)&&i._jskos.schemes.push(t),i}else{s.scheme=t;for(const i of Object.values(M)){if(i.providerType&&i.providerType!==n||!i._registryConfigForBartocApiConfig)continue;const o=i.providerName,c=M[o]._registryConfigForBartocApiConfig(s);if(c){c.provider=o;try{if(r=this.initializeRegistry(c),r)return tt[a]=r,r}catch{continue}}}}}return null}}const cb=new kt;export{cb as c};
